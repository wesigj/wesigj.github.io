<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="C++ Practical-2 day8 åŠ¨æ€æ•°ç»„ [TOC]\nOverview C++ä¸ç»ƒä¹ codingï¼Œå°±ç›¸å½“äºç©ºä¸­æ¥¼é˜ï¼ŒåŸºç¡€ä¸æ‰å® å…‰åƒä¸å¹²ï¼Œç­‰äºæ²¡åƒ 1.åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—ï¼Ÿ åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteæ“ä½œç¬¦æ¥åˆ›å»ºå’Œé”€æ¯åŠ¨æ€æ•°ç»„ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§çš„æ–¹æ³•æ¥åˆ›å»ºå’Œç®¡ç†åŠ¨æ€æ•°ç»„ï¼š\n"><title>C++ Practical-2 day8 åŠ¨æ€æ•°ç»„</title>
<link rel=canonical href=https://wesigj.github.io/p/c-practical-2-day8-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/><link rel=stylesheet href=/scss/style.min.fb788271c6df6928bf35246ecbbfeb1eb9a17bcbe87d71daa3085497c92c891b.css><meta property='og:title' content="C++ Practical-2 day8 åŠ¨æ€æ•°ç»„"><meta property='og:description' content="C++ Practical-2 day8 åŠ¨æ€æ•°ç»„ [TOC]\nOverview C++ä¸ç»ƒä¹ codingï¼Œå°±ç›¸å½“äºç©ºä¸­æ¥¼é˜ï¼ŒåŸºç¡€ä¸æ‰å® å…‰åƒä¸å¹²ï¼Œç­‰äºæ²¡åƒ 1.åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—ï¼Ÿ åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteæ“ä½œç¬¦æ¥åˆ›å»ºå’Œé”€æ¯åŠ¨æ€æ•°ç»„ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§çš„æ–¹æ³•æ¥åˆ›å»ºå’Œç®¡ç†åŠ¨æ€æ•°ç»„ï¼š\n"><meta property='og:url' content='https://wesigj.github.io/p/c-practical-2-day8-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/'><meta property='og:site_name' content="Wesigj's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='C++'><meta property='article:tag' content='C++ Practical-2'><meta property='article:published_time' content='2024-09-28T01:05:56+08:00'><meta property='article:modified_time' content='2024-09-28T01:05:56+08:00'><meta name=twitter:title content="C++ Practical-2 day8 åŠ¨æ€æ•°ç»„"><meta name=twitter:description content="C++ Practical-2 day8 åŠ¨æ€æ•°ç»„ [TOC]\nOverview C++ä¸ç»ƒä¹ codingï¼Œå°±ç›¸å½“äºç©ºä¸­æ¥¼é˜ï¼ŒåŸºç¡€ä¸æ‰å® å…‰åƒä¸å¹²ï¼Œç­‰äºæ²¡åƒ 1.åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—ï¼Ÿ åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteæ“ä½œç¬¦æ¥åˆ›å»ºå’Œé”€æ¯åŠ¨æ€æ•°ç»„ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§çš„æ–¹æ³•æ¥åˆ›å»ºå’Œç®¡ç†åŠ¨æ€æ•°ç»„ï¼š\n"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu7443220043442625548.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Wesigj's blog</a></h1><h2 class=site-description>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</h2></div></header><ol class=menu-social><li><a href=https://github.com/wesigj target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/_index.zh-cn/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#overview>Overview</a></li><li><a href=#1åœ¨cä¸­é™¤äº†ä½¿ç”¨newå’Œdeleteè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—>1.åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—ï¼Ÿ</a></li><li><a href=#2åŠ¨æ€æ•°ç»„ç±»>2.åŠ¨æ€æ•°ç»„ç±»</a></li><li><a href=#3å¦‚ä½•å®ç°åŠ¨æ€æ•°ç»„çš„åŠ¨æ€æ‰©å®¹åŠŸèƒ½>3.å¦‚ä½•å®ç°åŠ¨æ€æ•°ç»„çš„åŠ¨æ€æ‰©å®¹åŠŸèƒ½ï¼Ÿ</a><ol><li><a href=#31è§£é‡Š>3.1.è§£é‡Š</a></li><li><a href=#32æ³¨æ„äº‹é¡¹>3.2.æ³¨æ„äº‹é¡¹</a></li></ol></li><li><a href=#4åŠ¨æ€æ•°ç»„åœ¨å†…å­˜ç®¡ç†æ–¹é¢æœ‰å“ªäº›æ½œåœ¨çš„é£é™©æˆ‘åº”è¯¥å¦‚ä½•é¿å…>4.åŠ¨æ€æ•°ç»„åœ¨å†…å­˜ç®¡ç†æ–¹é¢æœ‰å“ªäº›æ½œåœ¨çš„é£é™©ï¼Œæˆ‘åº”è¯¥å¦‚ä½•é¿å…ï¼Ÿ</a></li><li><a href=#5å¦‚ä½•ä½¿ç”¨stdvectorè¿›è¡Œé«˜æ•ˆçš„åŠ¨æ€æ•°ç»„ç®¡ç†>5.å¦‚ä½•ä½¿ç”¨&rsquo;std:vector&rsquo;è¿›è¡Œé«˜æ•ˆçš„åŠ¨æ€æ•°ç»„ç®¡ç†ï¼Ÿ</a></li><li><a href=#6åœ¨cä¸­stdunique_ptrå’Œstdshared_ptråœ¨åŠ¨æ€æ•°ç»„ç®¡ç†ä¸Šæœ‰ä»€ä¹ˆä¸åŒ>6.åœ¨C++ä¸­ï¼Œ&lsquo;std:unique_ptr&rsquo;å’Œ&rsquo;std:shared_ptr&rsquo;åœ¨åŠ¨æ€æ•°ç»„ç®¡ç†ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</a><ol><li><a href=#61ä¸»è¦åŒºåˆ«>6.1.ä¸»è¦åŒºåˆ«</a></li></ol></li><li><a href=#7c17æ ‡å‡†ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§å¯ä»¥ä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†>7.C++17æ ‡å‡†ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§å¯ä»¥ä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†ï¼Ÿ</a></li><li><a href=#å…³äºä½œè€…>å…³äºä½œè€…</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/c++/ style=background-color:#2a9d8f;color:#fff>C++
</a><a href=/categories/c++-practical-2/>C++ Practical-2</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/c-practical-2-day8-%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84/>C++ Practical-2 day8 åŠ¨æ€æ•°ç»„</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 28, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>12 minute read</time></div></footer></div></header><section class=article-content><h1 id=c-practical-2-day8-åŠ¨æ€æ•°ç»„>C++ Practical-2 day8 åŠ¨æ€æ•°ç»„</h1><p>[TOC]</p><h2 id=overview>Overview</h2><ul><li>C++ä¸ç»ƒä¹ codingï¼Œå°±ç›¸å½“äºç©ºä¸­æ¥¼é˜ï¼ŒåŸºç¡€ä¸æ‰å®</li><li>å…‰åƒä¸å¹²ï¼Œç­‰äºæ²¡åƒ</li></ul><hr><h2 id=1åœ¨cä¸­é™¤äº†ä½¿ç”¨newå’Œdeleteè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—>1.åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨newå’Œdeleteï¼Œè¿˜æœ‰å…¶ä»–æ–¹å¼å¯ä»¥åˆ›å»ºåŠ¨æ€æ•°ç»„å—ï¼Ÿ</h2><p>åœ¨C++ä¸­ï¼Œé™¤äº†ä½¿ç”¨<code>new</code>å’Œ<code>delete</code>æ“ä½œç¬¦æ¥åˆ›å»ºå’Œé”€æ¯åŠ¨æ€æ•°ç»„ï¼Œè¿˜æœ‰ä»¥ä¸‹å‡ ç§å¸¸è§çš„æ–¹æ³•æ¥åˆ›å»ºå’Œç®¡ç†åŠ¨æ€æ•°ç»„ï¼š</p><ol><li><p><strong>ä½¿ç”¨<code>std::vector</code></strong>ï¼š
<code>std::vector</code>æ˜¯C++æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œå®ƒå°è£…äº†å†…å­˜ç®¡ç†çš„ç»†èŠ‚ï¼Œæä¾›äº†åŠ¨æ€æ‰©å®¹ã€å…ƒç´ è®¿é—®ã€æ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;vector&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>vec</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>vec</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>vec</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::array</code>ï¼ˆå›ºå®šå¤§å°ï¼‰</strong>ï¼š
<code>std::array</code>æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„å®¹å™¨ï¼Œå®ƒå­˜å‚¨åœ¨æ ˆä¸Šï¼Œä½†æä¾›äº†ç±»ä¼¼äº<code>std::vector</code>çš„æ¥å£ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;array&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>array</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=mi>4</span><span class=o>&gt;</span> <span class=n>arr</span> <span class=o>=</span> <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::unique_ptr</code>å’Œè‡ªå®šä¹‰åˆ é™¤å™¨</strong>ï¼š
å¯ä»¥ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ<code>std::unique_ptr</code>ä¸è‡ªå®šä¹‰åˆ é™¤å™¨æ¥ç®¡ç†åŠ¨æ€æ•°ç»„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>unique_ptr</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>[],</span> <span class=kt>void</span><span class=p>(</span><span class=o>*</span><span class=p>)(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>uptr</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=mi>10</span><span class=p>],</span> <span class=p>[](</span><span class=kt>int</span><span class=o>*</span> <span class=n>p</span><span class=p>){</span> <span class=k>delete</span><span class=p>[]</span> <span class=n>p</span><span class=p>;</span> <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::shared_ptr</code>å’Œè‡ªå®šä¹‰åˆ é™¤å™¨</strong>ï¼š
ç±»ä¼¼äº<code>std::unique_ptr</code>ï¼Œä½†<code>std::shared_ptr</code>å…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«åŒä¸€ä¸ªåŠ¨æ€æ•°ç»„ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>sptr</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=mi>10</span><span class=p>],</span> <span class=p>[](</span><span class=kt>int</span><span class=o>*</span> <span class=n>p</span><span class=p>){</span> <span class=k>delete</span><span class=p>[]</span> <span class=n>p</span><span class=p>;</span> <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>malloc</code>å’Œ<code>free</code></strong>ï¼š
Cè¯­è¨€çš„<code>malloc</code>å’Œ<code>free</code>å‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥åˆ†é…å’Œé‡Šæ”¾åŠ¨æ€å†…å­˜ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>arr</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span><span class=o>*</span><span class=p>)</span><span class=n>malloc</span><span class=p>(</span><span class=mi>10</span> <span class=o>*</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>int</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=n>arr</span> <span class=o>!=</span> <span class=k>nullptr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ä½¿ç”¨æ•°ç»„...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>free</span><span class=p>(</span><span class=n>arr</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::allocator</code></strong>ï¼š
<code>std::allocator</code>æ˜¯C++æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªå†…å­˜åˆ†é…å™¨ï¼Œå®ƒå¯ä»¥ä¸å®¹å™¨ä¸€èµ·ä½¿ç”¨ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>allocator</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>alloc</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>arr</span> <span class=o>=</span> <span class=n>alloc</span><span class=p>.</span><span class=n>allocate</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>alloc</span><span class=p>.</span><span class=n>deallocate</span><span class=p>(</span><span class=n>arr</span><span class=p>,</span> <span class=mi>10</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::make_unique</code></strong>ï¼š
<code>std::make_unique</code>æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œç”¨äºåˆ›å»º<code>std::unique_ptr</code>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>auto</span> <span class=n>uptr</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_unique</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>[]</span><span class=o>&gt;</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::make_shared</code></strong>ï¼š
<code>std::make_shared</code>æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œç”¨äºåˆ›å»º<code>std::shared_ptr</code>ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>auto</span> <span class=n>sptr</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>[]</span><span class=o>&gt;</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨<code>std::vector</code>çš„<code>data</code>æˆå‘˜å‡½æ•°</strong>ï¼š
å¦‚æœä½ éœ€è¦ä¸€ä¸ªæŒ‡å‘<code>std::vector</code>åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼Œå¯ä»¥ä½¿ç”¨<code>data</code>æˆå‘˜å‡½æ•°ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;vector&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>vec</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>*</span> <span class=n>arr</span> <span class=o>=</span> <span class=n>vec</span><span class=p>.</span><span class=n>data</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>ä½¿ç”¨C++17çš„<code>std::allocator_traits</code></strong>ï¼š
<code>std::allocator_traits</code>æä¾›äº†ä¸€ç§æ–¹å¼æ¥æŸ¥è¯¢å’Œä½¿ç”¨åˆ†é…å™¨çš„å±æ€§å’Œæ“ä½œã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>Allocator</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>deallocate</span><span class=p>(</span><span class=n>Allocator</span><span class=o>&amp;</span> <span class=n>alloc</span><span class=p>,</span> <span class=kt>int</span><span class=o>*</span> <span class=n>ptr</span><span class=p>,</span> <span class=n>size_t</span> <span class=n>size</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>allocator_traits</span><span class=o>&lt;</span><span class=n>Allocator</span><span class=o>&gt;::</span><span class=n>deallocate</span><span class=p>(</span><span class=n>alloc</span><span class=p>,</span> <span class=n>ptr</span><span class=p>,</span> <span class=n>size</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>åœ¨ç°ä»£C++ç¼–ç¨‹ä¸­ï¼Œæ¨èä½¿ç”¨æ ‡å‡†åº“æä¾›çš„å®¹å™¨å’Œæ™ºèƒ½æŒ‡é’ˆï¼Œå› ä¸ºå®ƒä»¬æä¾›äº†æ›´å¥½çš„ç±»å‹å®‰å…¨æ€§ã€å¼‚å¸¸å®‰å…¨æ€§å’Œèµ„æºç®¡ç†ã€‚</p><h2 id=2åŠ¨æ€æ•°ç»„ç±»>2.åŠ¨æ€æ•°ç»„ç±»</h2><p>åœ¨C++ä¸­ï¼ŒåŠ¨æ€æ•°ç»„é€šå¸¸æŒ‡çš„æ˜¯ä½¿ç”¨<code>new</code>å’Œ<code>delete</code>æ“ä½œç¬¦åŠ¨æ€åˆ†é…å’Œé‡Šæ”¾å†…å­˜çš„æ•°ç»„ã€‚ä¸é™æ€æ•°ç»„ï¼ˆåœ¨æ ˆä¸Šåˆ†é…çš„æ•°ç»„ï¼‰ä¸åŒï¼ŒåŠ¨æ€æ•°ç»„çš„ç”Ÿå‘½å‘¨æœŸç”±ç¨‹åºå‘˜æ§åˆ¶ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ç¡®å®šå¤§å°ã€‚</p><p>ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨C++ä¸­å®ç°ä¸€ä¸ªç®€å•çš„åŠ¨æ€æ•°ç»„ç±»ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;algorithm&gt;</span><span class=cp> </span><span class=c1>// for std::copy
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;cstddef&gt;</span><span class=cp>   </span><span class=c1>// for std::size_t
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DynamicArray</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>T</span><span class=o>*</span> <span class=n>data</span><span class=p>;</span>       <span class=c1>// æŒ‡å‘åŠ¨æ€åˆ†é…æ•°ç»„çš„æŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>size</span><span class=p>;</span>  <span class=c1>// æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=c1>// æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>explicit</span> <span class=n>DynamicArray</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>size</span><span class=p>)</span> <span class=o>:</span> <span class=n>data</span><span class=p>(</span><span class=k>new</span> <span class=n>T</span><span class=p>[</span><span class=n>size</span><span class=p>]),</span> <span class=n>size</span><span class=p>(</span><span class=n>size</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ææ„å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>~</span><span class=n>DynamicArray</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ‹·è´æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=p>(</span><span class=k>const</span> <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=o>:</span> <span class=n>data</span><span class=p>(</span><span class=k>new</span> <span class=n>T</span><span class=p>[</span><span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>]),</span> <span class=n>size</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>copy</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>,</span> <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>+</span> <span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>,</span> <span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç§»åŠ¨æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=p>(</span><span class=n>DynamicArray</span><span class=o>&amp;&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=k>noexcept</span> <span class=o>:</span> <span class=n>data</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>),</span> <span class=n>size</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>=</span> <span class=k>nullptr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>other</span><span class=p>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ‹·è´èµ‹å€¼è¿ç®—ç¬¦
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span> <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=o>!=</span> <span class=o>&amp;</span><span class=n>other</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=k>new</span> <span class=n>T</span><span class=p>[</span><span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>];</span>
</span></span><span class=line><span class=cl>            <span class=n>size</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>copy</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>,</span> <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>+</span> <span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>,</span> <span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=n>DynamicArray</span><span class=o>&amp;&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=k>noexcept</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=o>!=</span> <span class=o>&amp;</span><span class=n>other</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>size</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>=</span> <span class=k>nullptr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>other</span><span class=p>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æ•°ç»„çš„å¤§å°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>getSize</span><span class=p>()</span> <span class=k>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>T</span><span class=o>&amp;</span> <span class=k>operator</span><span class=p>[](</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼ˆconstç‰ˆæœ¬ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>const</span> <span class=n>T</span><span class=o>&amp;</span> <span class=k>operator</span><span class=p>[](</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>index</span><span class=p>)</span> <span class=k>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DynamicArray</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>arr</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span> <span class=c1>// åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º5çš„åŠ¨æ€æ•°ç»„
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>.</span><span class=n>getSize</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>i</span> <span class=o>*</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>.</span><span class=n>getSize</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª<code>DynamicArray</code>ç±»æ¨¡æ¿ï¼Œå®ƒå°è£…äº†åŠ¨æ€æ•°ç»„çš„åˆ†é…ã€ä½¿ç”¨å’Œé‡Šæ”¾ã€‚ç±»ä¸­åŒ…å«äº†ï¼š</p><ul><li>ä¸€ä¸ªç±»å‹ä¸º<code>T*</code>çš„ç§æœ‰æˆå‘˜<code>data</code>ï¼Œå®ƒæŒ‡å‘åŠ¨æ€åˆ†é…çš„å†…å­˜ã€‚</li><li>ä¸€ä¸ª<code>size</code>æˆå‘˜ï¼Œè®°å½•æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ã€‚</li><li>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼Œåˆ†åˆ«ç”¨äºåˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚</li><li>æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼Œç”¨äºå¤åˆ¶æ•°ç»„å†…å®¹ã€‚</li><li>ç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œç”¨äºæ”¯æŒç§»åŠ¨è¯­ä¹‰ã€‚</li><li><code>getSize</code>æˆå‘˜å‡½æ•°ï¼Œè¿”å›æ•°ç»„çš„å¤§å°ã€‚</li><li><code>operator[]</code>ï¼Œé‡è½½äº†ä¸‹æ ‡è¿ç®—ç¬¦ä»¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚</li></ul><p>è¿™ä¸ªç®€å•çš„åŠ¨æ€æ•°ç»„ç±»æ¨¡æ¿å±•ç¤ºäº†å¦‚ä½•ç®¡ç†åŠ¨æ€å†…å­˜ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä½ å¯èƒ½è¿˜éœ€è¦æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚åŠ¨æ€æ‰©å®¹ã€æ’å…¥å’Œåˆ é™¤å…ƒç´ ç­‰æ“ä½œã€‚</p><h2 id=3å¦‚ä½•å®ç°åŠ¨æ€æ•°ç»„çš„åŠ¨æ€æ‰©å®¹åŠŸèƒ½>3.å¦‚ä½•å®ç°åŠ¨æ€æ•°ç»„çš„åŠ¨æ€æ‰©å®¹åŠŸèƒ½ï¼Ÿ</h2><p>å®ç°åŠ¨æ€æ•°ç»„çš„åŠ¨æ€æ‰©å®¹åŠŸèƒ½é€šå¸¸æ¶‰åŠä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><strong>åˆå§‹åˆ†é…</strong>ï¼šåˆ›å»ºæ•°ç»„æ—¶åˆ†é…åˆå§‹å®¹é‡ã€‚</li><li><strong>æ£€æµ‹å®¹é‡</strong>ï¼šåœ¨æ·»åŠ å…ƒç´ å‰æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„ç©ºé—´ã€‚</li><li><strong>æ‰©å®¹</strong>ï¼šå¦‚æœç©ºé—´ä¸è¶³ï¼Œåˆ†é…æ›´å¤§çš„å†…å­˜ç©ºé—´ã€‚</li><li><strong>å¤åˆ¶å…ƒç´ </strong>ï¼šå°†æ—§æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ã€‚</li><li><strong>é‡Šæ”¾æ—§æ•°ç»„</strong>ï¼šåˆ é™¤æ—§æ•°ç»„ä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</li></ol><p>ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨C++ä¸­å®ç°ä¸€ä¸ªå…·æœ‰åŠ¨æ€æ‰©å®¹åŠŸèƒ½çš„åŠ¨æ€æ•°ç»„ç±»ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;algorithm&gt;</span><span class=cp> </span><span class=c1>// for std::copy
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;cstddef&gt;</span><span class=cp>   </span><span class=c1>// for std::size_t
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DynamicArray</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>T</span><span class=o>*</span> <span class=n>data</span><span class=p>;</span>       <span class=c1>// æŒ‡å‘åŠ¨æ€åˆ†é…æ•°ç»„çš„æŒ‡é’ˆ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>size</span><span class=p>;</span>  <span class=c1>// å½“å‰æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>capacity</span><span class=p>;</span> <span class=c1>// æ•°ç»„åˆ†é…çš„æ€»å®¹é‡
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>resize</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>newCapacity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>T</span><span class=o>*</span> <span class=n>newData</span> <span class=o>=</span> <span class=k>new</span> <span class=n>T</span><span class=p>[</span><span class=n>newCapacity</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>copy</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>data</span> <span class=o>+</span> <span class=n>size</span><span class=p>,</span> <span class=n>newData</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>newData</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>capacity</span> <span class=o>=</span> <span class=n>newCapacity</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=c1>// æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>explicit</span> <span class=n>DynamicArray</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>initialCapacity</span> <span class=o>=</span> <span class=mi>10</span><span class=p>)</span> <span class=o>:</span> <span class=n>data</span><span class=p>(</span><span class=k>new</span> <span class=n>T</span><span class=p>[</span><span class=n>initialCapacity</span><span class=p>]),</span> <span class=n>size</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>capacity</span><span class=p>(</span><span class=n>initialCapacity</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ææ„å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>~</span><span class=n>DynamicArray</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç¦æ­¢æ‹·è´æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=p>(</span><span class=k>const</span> <span class=n>DynamicArray</span><span class=o>&amp;</span><span class=p>)</span> <span class=o>=</span> <span class=k>delete</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç¦æ­¢æ‹·è´èµ‹å€¼è¿ç®—ç¬¦
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span> <span class=n>DynamicArray</span><span class=o>&amp;</span><span class=p>)</span> <span class=o>=</span> <span class=k>delete</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç§»åŠ¨æ„é€ å‡½æ•°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=p>(</span><span class=n>DynamicArray</span><span class=o>&amp;&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=k>noexcept</span> <span class=o>:</span> <span class=n>data</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>),</span> <span class=n>size</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>),</span> <span class=n>capacity</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>capacity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>=</span> <span class=k>nullptr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>other</span><span class=p>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>other</span><span class=p>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>DynamicArray</span><span class=o>&amp;</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=n>DynamicArray</span><span class=o>&amp;&amp;</span> <span class=n>other</span><span class=p>)</span> <span class=k>noexcept</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=o>!=</span> <span class=o>&amp;</span><span class=n>other</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>delete</span><span class=p>[]</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>data</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>size</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>capacity</span> <span class=o>=</span> <span class=n>other</span><span class=p>.</span><span class=n>capacity</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>other</span><span class=p>.</span><span class=n>data</span> <span class=o>=</span> <span class=k>nullptr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>other</span><span class=p>.</span><span class=n>size</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>other</span><span class=p>.</span><span class=n>capacity</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ·»åŠ å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>pushBack</span><span class=p>(</span><span class=k>const</span> <span class=n>T</span><span class=o>&amp;</span> <span class=n>value</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>size</span> <span class=o>==</span> <span class=n>capacity</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>newCapacity</span> <span class=o>=</span> <span class=n>capacity</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>1</span> <span class=o>:</span> <span class=p>(</span><span class=n>capacity</span> <span class=o>*</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>resize</span><span class=p>(</span><span class=n>newCapacity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>data</span><span class=p>[</span><span class=n>size</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=n>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æ•°ç»„çš„å¤§å°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>getSize</span><span class=p>()</span> <span class=k>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>T</span><span class=o>&amp;</span> <span class=k>operator</span><span class=p>[](</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>index</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ ï¼ˆconstç‰ˆæœ¬ï¼‰
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>const</span> <span class=n>T</span><span class=o>&amp;</span> <span class=k>operator</span><span class=p>[](</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>index</span><span class=p>)</span> <span class=k>const</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>data</span><span class=p>[</span><span class=n>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>DynamicArray</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>arr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>15</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>arr</span><span class=p>.</span><span class=n>pushBack</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>size_t</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>.</span><span class=n>getSize</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=31è§£é‡Š>3.1.è§£é‡Š</h3><ol><li><p><strong>åˆå§‹åˆ†é…</strong>ï¼š</p><ul><li>æ„é€ å‡½æ•°ä¸­åˆ†é…åˆå§‹å®¹é‡ï¼ˆé»˜è®¤ä¸º10ï¼‰ã€‚</li></ul></li><li><p><strong>æ£€æµ‹å®¹é‡</strong>ï¼š</p><ul><li>åœ¨<code>pushBack</code>æ–¹æ³•ä¸­ï¼Œæ£€æŸ¥å½“å‰æ•°ç»„çš„å¤§å°æ˜¯å¦ç­‰äºå®¹é‡ã€‚å¦‚æœæ˜¯ï¼Œåˆ™éœ€è¦æ‰©å®¹ã€‚</li></ul></li><li><p><strong>æ‰©å®¹</strong>ï¼š</p><ul><li><code>resize</code>æ–¹æ³•åˆ†é…æ–°çš„å®¹é‡ï¼ˆé»˜è®¤ä¸ºå½“å‰å®¹é‡çš„ä¸¤å€ï¼‰ï¼Œå¹¶å°†æ—§æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ã€‚</li></ul></li><li><p><strong>å¤åˆ¶å…ƒç´ </strong>ï¼š</p><ul><li>ä½¿ç”¨<code>std::copy</code>å°†æ—§æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ã€‚</li></ul></li><li><p><strong>é‡Šæ”¾æ—§æ•°ç»„</strong>ï¼š</p><ul><li>åˆ é™¤æ—§æ•°ç»„ä»¥é¿å…å†…å­˜æ³„æ¼ã€‚</li></ul></li></ol><h3 id=32æ³¨æ„äº‹é¡¹>3.2.æ³¨æ„äº‹é¡¹</h3><ul><li><strong>åˆå§‹å®¹é‡</strong>ï¼šå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´åˆå§‹å®¹é‡å’Œæ‰©å®¹ç­–ç•¥ã€‚</li><li><strong>å¼‚å¸¸å®‰å…¨</strong>ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦è€ƒè™‘å¼‚å¸¸å®‰å…¨ï¼Œç¡®ä¿åœ¨åˆ†é…æ–°å†…å­˜æˆ–å¤åˆ¶å…ƒç´ æ—¶ä¸ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚</li><li><strong>å†…å­˜ç®¡ç†</strong>ï¼šç¡®ä¿æ­£ç¡®ç®¡ç†å†…å­˜ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œé‡æŒ‡é’ˆã€‚</li></ul><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥å®ç°ä¸€ä¸ªå…·æœ‰åŠ¨æ€æ‰©å®¹åŠŸèƒ½çš„åŠ¨æ€æ•°ç»„ç±»ï¼Œä½¿å…¶åœ¨éœ€è¦æ—¶è‡ªåŠ¨æ‰©å±•å®¹é‡ã€‚</p><h2 id=4åŠ¨æ€æ•°ç»„åœ¨å†…å­˜ç®¡ç†æ–¹é¢æœ‰å“ªäº›æ½œåœ¨çš„é£é™©æˆ‘åº”è¯¥å¦‚ä½•é¿å…>4.åŠ¨æ€æ•°ç»„åœ¨å†…å­˜ç®¡ç†æ–¹é¢æœ‰å“ªäº›æ½œåœ¨çš„é£é™©ï¼Œæˆ‘åº”è¯¥å¦‚ä½•é¿å…ï¼Ÿ</h2><p>åŠ¨æ€æ•°ç»„åœ¨å†…å­˜ç®¡ç†æ–¹é¢ä¸»è¦å­˜åœ¨ä»¥ä¸‹æ½œåœ¨é£é™©ï¼š</p><ol><li><p><strong>å†…å­˜æ³„æ¼</strong>ï¼šå¦‚æœåˆ†é…äº†å†…å­˜ä½†æ²¡æœ‰æ­£ç¡®é‡Šæ”¾ï¼Œä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ä¾‹å¦‚ï¼Œå¿˜è®°ä½¿ç”¨ <code>delete[]</code> é‡Šæ”¾åŠ¨æ€æ•°ç»„ ã€‚</p></li><li><p><strong>åŒé‡é‡Šæ”¾</strong>ï¼šå¤šæ¬¡é‡Šæ”¾åŒä¸€å—å†…å­˜ä¼šå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºï¼Œå¯èƒ½å¼•å‘ç¨‹åºå´©æºƒã€‚</p></li><li><p><strong>æ‚¬æŒ‚æŒ‡é’ˆ</strong>ï¼šé‡Šæ”¾å†…å­˜åæ²¡æœ‰å°†æŒ‡é’ˆç½®ä¸º <code>nullptr</code>ï¼Œä½¿å…¶ä»ç„¶æŒ‡å‘å·²è¢«é‡Šæ”¾çš„å†…å­˜åŒºåŸŸï¼Œåç»­å¯¹è¿™ç‰‡åŒºåŸŸçš„è®¿é—®æ˜¯éæ³•çš„ã€‚</p></li><li><p><strong>è¶Šç•Œè®¿é—®</strong>ï¼šåœ¨åŠ¨æ€åˆ†é…çš„å†…å­˜åŒºåŸŸå†…è¿›è¡Œä¸åˆæ³•çš„è¯»å†™æ“ä½œï¼Œä¾‹å¦‚ç´¢å¼•è¶…å‡ºæ•°ç»„è¾¹ç•Œã€‚</p></li><li><p><strong>å†…å­˜åˆ†é…å¤±è´¥</strong>ï¼š<code>new</code> åˆ†é…å†…å­˜å¤±è´¥æ—¶ä¼šæŠ›å‡º <code>std::bad_alloc</code> å¼‚å¸¸ï¼Œè€Œ <code>malloc</code> ä¼šè¿”å› <code>NULL</code> æŒ‡é’ˆã€‚å¦‚æœä¸æ­£ç¡®å¤„ç†ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå¼‚å¸¸ç»ˆæ­¢ã€‚</p></li><li><p><strong>å†…å­˜ç¢ç‰‡</strong>ï¼šé¢‘ç¹çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾å¯èƒ½å¯¼è‡´å†…å­˜ç¢ç‰‡ï¼Œé™ä½å†…å­˜ä½¿ç”¨æ•ˆç‡ã€‚</p></li></ol><p>ä¸ºäº†é¿å…è¿™äº›é£é™©ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</p><ol><li><p><strong>ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ</strong>ï¼šå¦‚ <code>std::unique_ptr</code> å’Œ <code>std::shared_ptr</code>ï¼Œå®ƒä»¬å¯ä»¥è‡ªåŠ¨ç®¡ç†å†…å­˜çš„é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆ ã€‚</p></li><li><p><strong>ç¡®ä¿å¼‚å¸¸å®‰å…¨</strong>ï¼šåœ¨åŠ¨æ€å†…å­˜åˆ†é…æ—¶ä½¿ç”¨å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿å³ä½¿åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶ä¹Ÿèƒ½æ­£ç¡®é‡Šæ”¾å†…å­˜ã€‚</p></li><li><p><strong>ä½¿ç”¨ RAII æŠ€æœ¯</strong>ï¼šç¡®ä¿èµ„æºåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸç»“æŸæ—¶è‡ªåŠ¨é‡Šæ”¾ï¼Œè¿™æ˜¯ä¸€ç§å¸¸ç”¨çš„é¿å…èµ„æºæ³„æ¼çš„æ–¹æ³•ã€‚</p></li><li><p><strong>é¿å…è¶Šç•Œè®¿é—®</strong>ï¼šåœ¨è®¿é—®æ•°ç»„å…ƒç´ æ—¶ï¼Œå§‹ç»ˆæ£€æŸ¥ç´¢å¼•æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…ã€‚</p></li><li><p><strong>æ£€æŸ¥å†…å­˜åˆ†é…ç»“æœ</strong>ï¼šæ¯æ¬¡ä½¿ç”¨ <code>new</code> æˆ– <code>malloc</code> åï¼Œæ£€æŸ¥è¿”å›å€¼æ˜¯å¦ä¸ºç©ºï¼Œç¡®ä¿å†…å­˜åˆ†é…æˆåŠŸã€‚</p></li><li><p><strong>å†…å­˜æ± </strong>ï¼šå¯¹äºé¢‘ç¹çš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾ï¼Œå¯ä»¥ä½¿ç”¨å†…å­˜æ± æ¥å‡å°‘å†…å­˜ç¢ç‰‡å’Œæé«˜å†…å­˜åˆ†é…æ•ˆç‡ã€‚</p></li><li><p><strong>ä½¿ç”¨æ ‡å‡†åº“å®¹å™¨</strong>ï¼šå¦‚ <code>std::vector</code>ï¼Œå®ƒå†…éƒ¨ç®¡ç†å†…å­˜ï¼Œå¹¶æä¾›äº†è‡ªåŠ¨æ‰©å®¹å’Œç¼©å®¹çš„åŠŸèƒ½ï¼Œå‡å°‘äº†å†…å­˜ç®¡ç†çš„å¤æ‚æ€§ã€‚</p></li></ol><p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†åŠ¨æ€æ•°ç»„çš„å†…å­˜ï¼Œé¿å…å¸¸è§çš„å†…å­˜ç®¡ç†é—®é¢˜ï¼Œæé«˜ç¨‹åºçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p><h2 id=5å¦‚ä½•ä½¿ç”¨stdvectorè¿›è¡Œé«˜æ•ˆçš„åŠ¨æ€æ•°ç»„ç®¡ç†>5.å¦‚ä½•ä½¿ç”¨&rsquo;std:vector&rsquo;è¿›è¡Œé«˜æ•ˆçš„åŠ¨æ€æ•°ç»„ç®¡ç†ï¼Ÿ</h2><p><code>std::vector</code> æ˜¯ C++ æ ‡å‡†åº“ä¸­çš„ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œå®ƒå°è£…äº†åŠ¨æ€å†…å­˜ç®¡ç†çš„ç»†èŠ‚ï¼Œæä¾›äº†åŠ¨æ€æ‰©å®¹ã€å…ƒç´ è®¿é—®ã€æ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨ <code>std::vector</code> è¿›è¡Œé«˜æ•ˆçš„åŠ¨æ€æ•°ç»„ç®¡ç†çš„ä¸€äº›å…³é”®ç‚¹ï¼š</p><ol><li><p><strong>è‡ªåŠ¨å†…å­˜ç®¡ç†</strong>ï¼š
<code>std::vector</code> è‡ªåŠ¨ç®¡ç†å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ï¼Œæ— éœ€æ‰‹åŠ¨ä½¿ç”¨ <code>new</code> å’Œ <code>delete</code>ã€‚</p></li><li><p><strong>åŠ¨æ€æ‰©å®¹</strong>ï¼š
å½“æ·»åŠ å…ƒç´ è¶…å‡ºå½“å‰å®¹é‡æ—¶ï¼Œ<code>std::vector</code> ä¼šè‡ªåŠ¨åˆ†é…æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ç§»åŠ¨ç°æœ‰å…ƒç´ åˆ°æ–°å†…å­˜ã€‚</p></li><li><p><strong>æä¾›å¼‚å¸¸å®‰å…¨æ€§</strong>ï¼š
å¦‚æœå†…å­˜åˆ†é…å¤±è´¥ï¼Œ<code>std::vector</code> ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œä¸ä¼šæ³„æ¼å†…å­˜ã€‚</p></li><li><p><strong>éšæœºè®¿é—®</strong>ï¼š
<code>std::vector</code> æä¾›äº†éšæœºè®¿é—®è¿­ä»£å™¨ï¼Œå…è®¸å¿«é€Ÿè®¿é—®ä»»ä½•å…ƒç´ ã€‚</p></li><li><p><strong>èŒƒå›´æ£€æŸ¥</strong>ï¼š
ä½¿ç”¨ <code>at()</code> æˆå‘˜å‡½æ•°å¯ä»¥æä¾›è¾¹ç•Œæ£€æŸ¥ï¼Œå½“è®¿é—®è¶…å‡ºèŒƒå›´çš„å…ƒç´ æ—¶ä¼šæŠ›å‡º <code>std::out_of_range</code> å¼‚å¸¸ã€‚</p></li><li><p><strong>è¿­ä»£å™¨</strong>ï¼š
æä¾›è¿­ä»£å™¨æ”¯æŒï¼Œå¯ä»¥ç”¨äºå¾ªç¯éå† <code>std::vector</code>ã€‚</p></li><li><p><strong>å®¹é‡å’Œå¤§å°</strong>ï¼š
<code>size()</code> è¿”å›å½“å‰å…ƒç´ æ•°é‡ï¼Œ<code>capacity()</code> è¿”å›å½“å‰åˆ†é…çš„å†…å­˜å¯ä»¥å®¹çº³çš„å…ƒç´ æ•°é‡ã€‚</p></li><li><p><strong>æ’å…¥å’Œåˆ é™¤æ“ä½œ</strong>ï¼š
æä¾› <code>push_back()</code>, <code>pop_back()</code>, <code>insert()</code>, <code>erase()</code> ç­‰æˆå‘˜å‡½æ•°è¿›è¡Œå…ƒç´ çš„æ’å…¥å’Œåˆ é™¤ã€‚</p></li><li><p><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼š
<code>shrink_to_fit()</code> å¯ä»¥è¯·æ±‚å‡å°å†…å­˜ä½¿ç”¨é‡ï¼Œ<code>reserve()</code> å¯ä»¥é¢„å…ˆåˆ†é…è¶³å¤Ÿçš„å†…å­˜ã€‚</p></li><li><p><strong>æ•°æ®è®¿é—®</strong>ï¼š
ä½¿ç”¨ <code>operator[]</code> æˆ– <code>at()</code> è®¿é—®å…ƒç´ ï¼Œ<code>front()</code> å’Œ <code>back()</code> è·å–é¦–å°¾å…ƒç´ ã€‚</p></li><li><p><strong>æ„é€ å’Œå¤åˆ¶</strong>ï¼š
æä¾›æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦ï¼Œæ”¯æŒç§»åŠ¨è¯­ä¹‰ï¼Œä½¿ç”¨ <code>std::move</code> è¿›è¡Œé«˜æ•ˆå¤åˆ¶ã€‚</p></li><li><p><strong>ç©ºå€¼æ£€æŸ¥</strong>ï¼š
ä½¿ç”¨ <code>empty()</code> æ£€æŸ¥ <code>std::vector</code> æ˜¯å¦ä¸ºç©ºã€‚</p></li><li><p><strong>ææ„</strong>ï¼š
å½“ <code>std::vector</code> è¢«é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾å…¶ç®¡ç†çš„å†…å­˜ã€‚</p></li></ol><p>ä»¥ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨ <code>std::vector</code> çš„ç¤ºä¾‹ä»£ç ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;vector&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// åˆ›å»ºä¸€ä¸ªç©ºçš„ vector
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>vec</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ·»åŠ å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vec</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vec</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>vec</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è®¿é—®å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=n>size_t</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>vec</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>vec</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ’å…¥å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vec</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>vec</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// åˆ é™¤å…ƒç´ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vec</span><span class=p>.</span><span class=n>erase</span><span class=p>(</span><span class=n>vec</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ä½¿ç”¨è¿­ä»£å™¨éå†
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=n>it</span> <span class=o>=</span> <span class=n>vec</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span> <span class=n>it</span> <span class=o>!=</span> <span class=n>vec</span><span class=p>.</span><span class=n>end</span><span class=p>();</span> <span class=o>++</span><span class=n>it</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>it</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// èŒƒå›´æ£€æŸ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>vec</span><span class=p>.</span><span class=n>at</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>out_of_range</span><span class=o>&amp;</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Exception caught: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>e</span><span class=p>.</span><span class=n>what</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// å†…å­˜ä¼˜åŒ–
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>vec</span><span class=p>.</span><span class=n>shrink_to_fit</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>ä½¿ç”¨ <code>std::vector</code> å¯ä»¥å¤§å¤§ç®€åŒ–åŠ¨æ€æ•°ç»„çš„ç®¡ç†ï¼Œå‡å°‘å†…å­˜æ³„æ¼å’Œæ‚¬æŒ‚æŒ‡é’ˆçš„é£é™©ï¼Œå¹¶æé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚</p><h2 id=6åœ¨cä¸­stdunique_ptrå’Œstdshared_ptråœ¨åŠ¨æ€æ•°ç»„ç®¡ç†ä¸Šæœ‰ä»€ä¹ˆä¸åŒ>6.åœ¨C++ä¸­ï¼Œ&lsquo;std:unique_ptr&rsquo;å’Œ&rsquo;std:shared_ptr&rsquo;åœ¨åŠ¨æ€æ•°ç»„ç®¡ç†ä¸Šæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h2><p>åœ¨ C++ ä¸­ï¼Œ<code>std::unique_ptr</code> å’Œ <code>std::shared_ptr</code> éƒ½æ˜¯æ™ºèƒ½æŒ‡é’ˆï¼Œç”¨äºè‡ªåŠ¨ç®¡ç†åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œä½†å®ƒä»¬åœ¨ç®¡ç†åŠ¨æ€æ•°ç»„æ—¶æœ‰ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š</p><ol><li><p><strong><code>std::unique_ptr</code> ä¸åŠ¨æ€æ•°ç»„</strong>ï¼š</p><ul><li><code>std::unique_ptr</code> æ˜¯ç‹¬å æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œæ„å‘³ç€åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ª <code>std::unique_ptr</code> æŒ‡å‘ç‰¹å®šèµ„æºã€‚</li><li>å®ƒä¸èƒ½è¢«å¤åˆ¶ï¼Œä½†å¯ä»¥è¢«ç§»åŠ¨ï¼Œè¿™å…è®¸åœ¨ä¸åŒå¯¹è±¡ä¹‹é—´ä¼ é€’æ‰€æœ‰æƒã€‚</li><li><code>std::unique_ptr</code> å¯ä»¥è¢«ç”¨æ¥ç®¡ç†åŠ¨æ€æ•°ç»„ï¼Œä½†éœ€è¦ä½¿ç”¨ç‰¹æ®Šçš„æ•°ç»„åˆ é™¤å™¨ <code>std::default_delete</code>ï¼Œå› ä¸ºæ•°ç»„çš„åˆ é™¤éœ€è¦ä½¿ç”¨ <code>delete[]</code> è€Œä¸æ˜¯ <code>delete</code>ã€‚</li><li>ä½¿ç”¨ <code>std::unique_ptr</code> ç®¡ç†åŠ¨æ€æ•°ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>std::make_unique</code>ï¼ˆC++14 å¼•å…¥ï¼‰æ¥åˆ›å»ºå®ä¾‹ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>unique_ptr</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>[]</span><span class=o>&gt;</span> <span class=n>uptr</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=mi>10</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong><code>std::shared_ptr</code> ä¸åŠ¨æ€æ•°ç»„</strong>ï¼š</p><ul><li><code>std::shared_ptr</code> æ˜¯å…±äº«æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆï¼Œå…è®¸å¤šä¸ª <code>std::shared_ptr</code> å®ä¾‹å…±äº«åŒä¸€èµ„æºã€‚</li><li>å®ƒä½¿ç”¨å¼•ç”¨è®¡æ•°æœºåˆ¶æ¥è·Ÿè¸ªæœ‰å¤šå°‘ä¸ª <code>std::shared_ptr</code> å®ä¾‹å…±äº«åŒä¸€ä¸ªèµ„æºã€‚</li><li>å½“æœ€åä¸€ä¸ªå¼•ç”¨è¢«é”€æ¯æ—¶ï¼Œèµ„æºä¼šè¢«é‡Šæ”¾ã€‚</li><li><code>std::shared_ptr</code> ä¹Ÿå¯ä»¥ç®¡ç†åŠ¨æ€æ•°ç»„ï¼Œä½†åŒæ ·éœ€è¦ä½¿ç”¨æ•°ç»„åˆ é™¤å™¨ï¼Œå› ä¸ºå®ƒä¹Ÿéœ€è¦ä½¿ç”¨ <code>delete[]</code>ã€‚</li><li><code>std::shared_ptr</code> ç®¡ç†åŠ¨æ€æ•°ç»„æ—¶ï¼Œé€šå¸¸éœ€è¦æä¾›ä¸€ä¸ªè‡ªå®šä¹‰åˆ é™¤å™¨ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>sptr</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=mi>10</span><span class=p>],</span> <span class=p>[](</span><span class=kt>int</span><span class=o>*</span> <span class=n>p</span><span class=p>){</span> <span class=k>delete</span><span class=p>[]</span> <span class=n>p</span><span class=p>;</span> <span class=p>});</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=61ä¸»è¦åŒºåˆ«>6.1.ä¸»è¦åŒºåˆ«</h3><ul><li><p><strong>æ‰€æœ‰æƒ</strong>ï¼š</p><ul><li><code>std::unique_ptr</code> å¼ºè°ƒç‹¬å æ‰€æœ‰æƒï¼Œé€‚åˆäºé‚£äº›ä¸éœ€è¦å…±äº«èµ„æºçš„åœºæ™¯ã€‚</li><li><code>std::shared_ptr</code> å…è®¸å¤šä¸ªæŒ‡é’ˆå…±äº«åŒä¸€ä¸ªèµ„æºï¼Œé€‚åˆäºèµ„æºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«çš„æƒ…å†µã€‚</li></ul></li><li><p><strong>åˆ é™¤å™¨</strong>ï¼š</p><ul><li><code>std::unique_ptr</code> å’Œ <code>std::shared_ptr</code> åœ¨ç®¡ç†åŠ¨æ€æ•°ç»„æ—¶éƒ½éœ€è¦æŒ‡å®šæ•°ç»„åˆ é™¤å™¨ï¼Œå› ä¸ºé»˜è®¤çš„åˆ é™¤å™¨æ˜¯ <code>delete</code>ï¼Œè€Œæ•°ç»„éœ€è¦ <code>delete[]</code>ã€‚</li></ul></li><li><p><strong>æ€§èƒ½</strong>ï¼š</p><ul><li><code>std::unique_ptr</code> é€šå¸¸æ¯” <code>std::shared_ptr</code> æ›´è½»é‡çº§ï¼Œå› ä¸ºå®ƒä¸æ¶‰åŠå¼•ç”¨è®¡æ•°çš„å¼€é”€ã€‚</li><li><code>std::shared_ptr</code> ç”±äºéœ€è¦ç»´æŠ¤å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥åœ¨æ€§èƒ½ä¸Šå¯èƒ½ç¨å¾®é€Šè‰²ï¼Œå°¤å…¶æ˜¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ã€‚</li></ul></li><li><p><strong>çº¿ç¨‹å®‰å…¨æ€§</strong>ï¼š</p><ul><li><code>std::shared_ptr</code> çš„å¼•ç”¨è®¡æ•°æ“ä½œæ˜¯åŸå­çš„ï¼Œé€‚åˆäºå¤šçº¿ç¨‹ç¯å¢ƒã€‚</li><li><code>std::unique_ptr</code> åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨æ—¶ï¼Œé€šå¸¸ä¸éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºå®ƒçš„è®¾è®¡å°±æ˜¯ç”¨äºå•çº¿ç¨‹æˆ–æ‰€æœ‰æƒæ˜ç¡®è½¬ç§»çš„åœºæ™¯ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>å½“ä½ ä¸éœ€è¦å…±äº«èµ„æºæ—¶ï¼Œæ¨èä½¿ç”¨ <code>std::unique_ptr</code>ï¼Œå› ä¸ºå®ƒæ›´é«˜æ•ˆã€‚</li><li>å½“èµ„æºéœ€è¦åœ¨å¤šä¸ªå¯¹è±¡é—´å…±äº«ï¼Œæˆ–è€…æ‰€æœ‰æƒä¸æ˜ç¡®æ—¶ï¼Œä½¿ç”¨ <code>std::shared_ptr</code>ã€‚</li></ul></li></ul><p>åœ¨é€‰æ‹©ä½¿ç”¨ <code>std::unique_ptr</code> è¿˜æ˜¯ <code>std::shared_ptr</code> æ—¶ï¼Œåº”è¯¥æ ¹æ®å®é™…çš„èµ„æºç®¡ç†å’Œæ‰€æœ‰æƒéœ€æ±‚æ¥å†³å®šã€‚</p><h2 id=7c17æ ‡å‡†ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§å¯ä»¥ä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†>7.C++17æ ‡å‡†ä¸­æœ‰å“ªäº›æ–°ç‰¹æ€§å¯ä»¥ä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†ï¼Ÿ</h2><p>åœ¨ C++17 æ ‡å‡†ä¸­ï¼Œæœ‰å‡ ä¸ªæ–°ç‰¹æ€§å¯ä»¥ä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†ï¼š</p><ol><li><p><strong>std::shared_ptr å¯¹åŠ¨æ€æ•°ç»„çš„æ”¯æŒ</strong>ï¼š
C++17 ä¹‹å‰ï¼Œ<code>std::shared_ptr</code> ä¸æ”¯æŒåŠ¨æ€æ•°ç»„ç±»å‹ã€‚åœ¨ C++17 ä¸­ï¼Œ<code>std::shared_ptr</code> å¯ä»¥æ¨¡æ¿åŒ–åŠ¨æ€æ•°ç»„ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„ç±»å‹çš„æ¨¡æ¿å‚æ•°ã€‚è¿™æ„å‘³ç€å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ª <code>std::shared_ptr&lt;int[]></code> æ¥ç®¡ç†åŠ¨æ€æ•°ç»„ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ <code>std::shared_ptr</code> çš„å†…ç½®å‡½æ•°ï¼Œå¦‚ <code>operator[]</code> æ¥è®¿é—®æ•°ç»„å…ƒç´ ã€‚</p></li><li><p><strong>std::unique_ptr çš„æ”¹è¿›</strong>ï¼š
<code>std::unique_ptr</code> å·²ç»æ”¯æŒåŠ¨æ€æ•°ç»„ï¼Œå¹¶ä¸”åœ¨ C++17 ä¸­ç»§ç»­æä¾›å¯¹åŠ¨æ€æ•°ç»„çš„ä¼˜åŒ–ç®¡ç†ã€‚å®ƒç¡®ä¿åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ª <code>std::unique_ptr</code> æŒ‡å‘ç‰¹å®šèµ„æºï¼Œä»è€Œé¿å…å†…å­˜æ³„æ¼ã€‚</p></li><li><p><strong>std::pmr å†…å­˜èµ„æºåº“</strong>ï¼š
C++17 å¼•å…¥äº† polymorphic memory resources (PMR)ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¤šæ€å†…å­˜åˆ†é…å™¨çš„åº“ï¼Œå…è®¸å¼€å‘è€…è‡ªå®šä¹‰å†…å­˜åˆ†é…ç­–ç•¥ï¼Œè¿™å¯ä»¥ç”¨äºä¼˜åŒ–åŠ¨æ€æ•°ç»„çš„å†…å­˜ç®¡ç†ã€‚</p></li><li><p><strong>ç»“æ„åŒ–ç»‘å®š</strong>ï¼š
C++17 å¼•å…¥äº†ç»“æ„åŒ–ç»‘å®šï¼Œå®ƒå…è®¸ä»æ•°ç»„æˆ–å…ƒç»„ä¸­æå–å¤šä¸ªæˆå‘˜åˆ°ä¸åŒå˜é‡ä¸­ï¼Œè¿™å¯ä»¥ç®€åŒ–æ•°ç»„å…ƒç´ çš„è®¿é—®å’Œæ“ä½œã€‚</p></li><li><p><strong>if å¸¸é‡è¡¨è¾¾å¼</strong>ï¼š
<code>if constexpr</code> å…è®¸åœ¨ç¼–è¯‘æ—¶æ ¹æ®æ¡ä»¶ç¼–è¯‘ä»£ç å—ï¼Œè¿™å¯ä»¥ç”¨æ¥ä¼˜åŒ–æ¨¡æ¿ä»£ç ä¸­çš„æ¡ä»¶é€»è¾‘ï¼ŒåŒ…æ‹¬åŠ¨æ€æ•°ç»„çš„å¤„ç†ã€‚</p></li><li><p><strong>ç¼–è¯‘æ—¶çš„ç±»å‹æ¨å¯¼</strong>ï¼š
C++17 å…è®¸åœ¨å‡½æ•°æ¨¡æ¿ä¸­ä½¿ç”¨ <code>auto</code> è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œè¿™ç®€åŒ–äº†æ¨¡æ¿ä»£ç çš„ç¼–å†™ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†åŠ¨æ€æ•°ç»„æ—¶ã€‚</p></li><li><p><strong>constexpr lambda è¡¨è¾¾å¼</strong>ï¼š
C++17 å…è®¸åœ¨ç¼–è¯‘æ—¶æ„å»º lambda è¡¨è¾¾å¼ï¼Œè¿™å¯ä»¥ç”¨æ¥åˆ›å»ºå¤æ‚çš„ç¼–è¯‘æ—¶è®¡ç®—ï¼ŒåŒ…æ‹¬æ•°ç»„æ“ä½œã€‚</p></li><li><p><strong>std::apply</strong>ï¼š
<code>std::apply</code> å‡½æ•°å…è®¸è°ƒç”¨ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼Œå¹¶å°†ä¸€ä¸ªå…ƒç»„æˆ–æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ï¼Œè¿™å¯ä»¥ç®€åŒ–æ•°ç»„æˆ–å…ƒç»„çš„å‡½æ•°è°ƒç”¨ã€‚</p></li></ol><p>é€šè¿‡è¿™äº›ç‰¹æ€§ï¼ŒC++17 æä¾›äº†æ›´çµæ´»å’Œé«˜æ•ˆçš„æ–¹å¼æ¥ç®¡ç†åŠ¨æ€æ•°ç»„çš„å†…å­˜ï¼ŒåŒæ—¶å‡å°‘äº†å†…å­˜æ³„æ¼çš„é£é™©ï¼Œå¹¶æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><hr><h2 id=å…³äºä½œè€…>å…³äºä½œè€…</h2><ul><li>å¾®ä¿¡å…¬ä¼—å·:WeSiGJ</li><li>GitHub:<a class=link href=https://github.com/wesigj/cplusplusboys target=_blank rel=noopener>https://github.com/wesigj/cplusplusboys</a></li><li>CSDN:<a class=link href=https://blog.csdn.net/wesigj target=_blank rel=noopener>https://blog.csdn.net/wesigj</a></li><li>å¾®åš:</li><li>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</li></ul><img src=/./img/wechat.jpg width=60%></section><footer class=article-footer><section class=article-tags><a href=/tags/c++/>C++</a>
<a href=/tags/c++-practical-2/>C++ Practical-2</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/c-practical-2-day13-%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F/><div class=article-details><h2 class=article-title>C++ Practical-2 day13 è¾“å‡ºæ ¼å¼</h2></div></a></article><article><a href=/p/c-practical-2-day12-%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6%E7%BB%BC%E5%90%88%E9%A2%98/><div class=article-details><h2 class=article-title>C++ Practical-2 day12 è¯»å†™æ–‡ä»¶ç»¼åˆé¢˜</h2></div></a></article><article><a href=/p/c-practical-2-day11-%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%B0%81%E8%A3%85/><div class=article-details><h2 class=article-title>C++ Practical-2 day11 ç»§æ‰¿ä¸å°è£…</h2></div></a></article><article><a href=/p/c-practical-2-day10-%E5%BC%82%E5%B8%B8%E6%8D%95%E8%8E%B7-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-try-exception/><div class=article-details><h2 class=article-title>C++ Practical-2 day10 å¼‚å¸¸æ•è· å¼‚å¸¸å¤„ç† try exception</h2></div></a></article><article><a href=/p/c-practical-2-day9-%E5%AD%97%E5%85%B8%E6%8F%92%E5%85%A5%E4%B8%8E%E6%9F%A5%E6%89%BE/><div class=article-details><h2 class=article-title>C++ Practical-2 day9 å­—å…¸æ’å…¥ä¸æŸ¥æ‰¾</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Wesigj's blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>