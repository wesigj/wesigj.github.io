<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="è®¾è®¡æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼-Chain of Responsibility Pattern [TOC]\nOverview è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ å®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ èƒ½çœ‹å¤šå°‘æ˜¯å¤šå°‘ï¼Œçœ‹ä¸å®Œä¸‹æ¬¡è®°å¾—å›æ¥çœ‹ 1.è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ã€‚è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚\n"><title>design pattern Chain of Responsibility Pattern</title>
<link rel=canonical href=https://wesigj.github.io/p/design-pattern-chain-of-responsibility-pattern/><link rel=stylesheet href=/scss/style.min.eb7f50cc23d1bd7ff2d2052c25614348c70e74f31980578f9f89974c5a7447d4.css><meta property='og:title' content="design pattern Chain of Responsibility Pattern"><meta property='og:description' content="è®¾è®¡æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼-Chain of Responsibility Pattern [TOC]\nOverview è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ å®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ èƒ½çœ‹å¤šå°‘æ˜¯å¤šå°‘ï¼Œçœ‹ä¸å®Œä¸‹æ¬¡è®°å¾—å›æ¥çœ‹ 1.è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ã€‚è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚\n"><meta property='og:url' content='https://wesigj.github.io/p/design-pattern-chain-of-responsibility-pattern/'><meta property='og:site_name' content="Wesigj's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='design_pattern'><meta property='article:published_time' content='2024-09-08T00:08:00+08:00'><meta property='article:modified_time' content='2024-09-08T00:08:00+08:00'><meta name=twitter:title content="design pattern Chain of Responsibility Pattern"><meta name=twitter:description content="è®¾è®¡æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼-Chain of Responsibility Pattern [TOC]\nOverview è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ å®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ èƒ½çœ‹å¤šå°‘æ˜¯å¤šå°‘ï¼Œçœ‹ä¸å®Œä¸‹æ¬¡è®°å¾—å›æ¥çœ‹ 1.è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰ è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ã€‚è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚\n"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu7443220043442625548.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/>Wesigj's blog</a></h1><h2 class=site-description>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</h2></div></header><ol class=menu-social><li><a href=https://wesigj.github.io/ target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/_index.zh-cn/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>ä¸»é¡µ</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#overview>Overview</a></li><li><a href=#1è´£ä»»é“¾æ¨¡å¼chain-of-responsibility-pattern>1.è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</a></li><li><a href=#2è´£ä»»é“¾æ¨¡å¼ä¼˜ç¼ºç‚¹>2.è´£ä»»é“¾æ¨¡å¼ä¼˜ç¼ºç‚¹</a></li><li><a href=#3å¦‚ä½•è®¾è®¡ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼çš„å®¢æˆ·ç«¯æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼>3.å¦‚ä½•è®¾è®¡ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼çš„å®¢æˆ·ç«¯æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ï¼Ÿ</a></li><li><a href=#4è´£ä»»é“¾æ¨¡å¼åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯>4.è´£ä»»é“¾æ¨¡å¼åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ</a></li><li><a href=#5è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•å®ç°çš„èƒ½å¦ä¸¾ä¾‹è¯´æ˜>5.è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•å®ç°çš„ï¼Œèƒ½å¦ä¸¾ä¾‹è¯´æ˜ï¼Ÿ</a></li><li><a href=#6åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­å¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚å®ƒä¼šå¦‚ä½•å½±å“æ•´ä¸ªè´£ä»»é“¾>6.åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œå¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå®ƒä¼šå¦‚ä½•å½±å“æ•´ä¸ªè´£ä»»é“¾ï¼Ÿ</a></li><li><a href=#7å¦‚æœè´£ä»»é“¾ä¸­çš„æŸä¸ªå¤„ç†è€…æŠ›å‡ºå¼‚å¸¸åº”è¯¥å¦‚ä½•è®¾è®¡å¼‚å¸¸å¤„ç†æœºåˆ¶>7.å¦‚æœè´£ä»»é“¾ä¸­çš„æŸä¸ªå¤„ç†è€…æŠ›å‡ºå¼‚å¸¸ï¼Œåº”è¯¥å¦‚ä½•è®¾è®¡å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ</a></li><li><a href=#8åœ¨è®¾è®¡è´£ä»»é“¾æ—¶å¦‚ä½•ç¡®ä¿å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§>8.åœ¨è®¾è®¡è´£ä»»é“¾æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§ï¼Ÿ</a></li><li><a href=#9åœ¨è®¾è®¡å¼‚å¸¸å¤„ç†ç­–ç•¥æ—¶æœ‰å“ªäº›å¸¸è§çš„é”™è¯¯æˆ–è€…é™·é˜±æˆ‘éœ€è¦é¿å…>9.åœ¨è®¾è®¡å¼‚å¸¸å¤„ç†ç­–ç•¥æ—¶ï¼Œæœ‰å“ªäº›å¸¸è§çš„é”™è¯¯æˆ–è€…é™·é˜±æˆ‘éœ€è¦é¿å…ï¼Ÿ</a></li><li><a href=#10åœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶æœ‰å“ªäº›æœ€ä½³å®è·µå¯ä»¥éµå¾ª>10.åœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶ï¼Œæœ‰å“ªäº›æœ€ä½³å®è·µå¯ä»¥éµå¾ªï¼Ÿ</a></li><li><a href=#11åœ¨è¿›è¡Œé”™è¯¯å¤„ç†æœºåˆ¶çš„æµ‹è¯•æ—¶æœ‰å“ªäº›å¸¸è§çš„æµ‹è¯•åœºæ™¯å’Œæµ‹è¯•æ–¹æ³•>11.åœ¨è¿›è¡Œé”™è¯¯å¤„ç†æœºåˆ¶çš„æµ‹è¯•æ—¶ï¼Œæœ‰å“ªäº›å¸¸è§çš„æµ‹è¯•åœºæ™¯å’Œæµ‹è¯•æ–¹æ³•ï¼Ÿ</a></li><li><a href=#12åœ¨æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶æ—¶å¦‚ä½•ç¡®ä¿æµ‹è¯•ç”¨ä¾‹çš„è¦†ç›–é¢è¶³å¤Ÿå…¨é¢>12.åœ¨æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶æ—¶ï¼Œå¦‚ä½•ç¡®ä¿æµ‹è¯•ç”¨ä¾‹çš„è¦†ç›–é¢è¶³å¤Ÿå…¨é¢ï¼Ÿ</a></li><li><a href=#å…³äºä½œè€…>å…³äºä½œè€…</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/design_pattern/ style=background-color:#2a9d8f;color:#fff>design_pattern</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/design-pattern-chain-of-responsibility-pattern/>design pattern Chain of Responsibility Pattern</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Sep 08, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>20 minute read</time></div></footer></div></header><section class=article-content><h1 id=è®¾è®¡æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼-chain-of-responsibility-pattern>è®¾è®¡æ¨¡å¼-è´£ä»»é“¾æ¨¡å¼-Chain of Responsibility Pattern</h1><p>[TOC]</p><h2 id=overview>Overview</h2><ul><li><strong>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼</strong></li><li><strong>å®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢</strong></li><li><strong>è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§</strong></li><li><strong>èƒ½çœ‹å¤šå°‘æ˜¯å¤šå°‘ï¼Œçœ‹ä¸å®Œä¸‹æ¬¡è®°å¾—å›æ¥çœ‹</strong></li></ul><hr><h2 id=1è´£ä»»é“¾æ¨¡å¼chain-of-responsibility-pattern>1.è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰</h2><p>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibility Patternï¼‰æ˜¯ä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒå…è®¸ä¸€ä¸ªè¯·æ±‚æ²¿ç€ä¸€æ¡é“¾ï¼ˆå¤šä¸ªå¯¹è±¡ç»„æˆçš„é“¾ï¼‰ä¼ é€’ï¼Œç›´åˆ°é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯¥è¯·æ±‚ä¸ºæ­¢ã€‚è¿™ç§æ¨¡å¼å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</p><p>è´£ä»»é“¾æ¨¡å¼çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p><ol><li><strong>è¯·æ±‚çš„ä¼ é€’æ€§</strong>ï¼šè¯·æ±‚åœ¨è´£ä»»é“¾ä¸Šçš„å¤šä¸ªå¯¹è±¡é—´ä¼ é€’ï¼Œç›´åˆ°è¢«å¤„ç†ã€‚</li><li><strong>å¯¹è±¡çš„è§£è€¦</strong>ï¼šè¯·æ±‚çš„å‘é€è€…ä¸éœ€è¦çŸ¥é“å“ªä¸ªå…·ä½“å¯¹è±¡ä¼šå¤„ç†å…¶è¯·æ±‚ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“é“¾çš„ç»“æ„ã€‚</li><li><strong>åŠ¨æ€è°ƒæ•´</strong>ï¼šè´£ä»»é“¾å¯ä»¥æ ¹æ®éœ€è¦åŠ¨æ€åœ°å¢åŠ æˆ–ç§»é™¤å¤„ç†å¯¹è±¡ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€‚</li><li><strong>å¤„ç†çš„å¤šæ ·æ€§</strong>ï¼šä¸€ä¸ªè¯·æ±‚å¯ä»¥è¢«å¤šä¸ªå¯¹è±¡å¤„ç†ï¼Œæˆ–è€…ç”±é“¾ä¸Šçš„æŸä¸ªå¯¹è±¡æœ€ç»ˆå¤„ç†ã€‚</li></ol><p>è´£ä»»é“¾æ¨¡å¼çš„ç»“æ„é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹è§’è‰²ï¼š</p><ul><li><strong>Handlerï¼ˆæŠ½è±¡å¤„ç†è€…ï¼‰</strong>ï¼šå®šä¹‰ä¸€ä¸ªå¤„ç†è¯·æ±‚çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„å¼•ç”¨ã€‚</li><li><strong>ConcreteHandlerï¼ˆå…·ä½“å¤„ç†è€…ï¼‰</strong>ï¼šå®ç°æŠ½è±¡å¤„ç†è€…æ¥å£ï¼Œè´Ÿè´£å¤„ç†è¯·æ±‚æˆ–å°†è¯·æ±‚ä¼ é€’ç»™é“¾ä¸Šçš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚</li><li><strong>Clientï¼ˆå®¢æˆ·ç«¯ï¼‰</strong>ï¼šåˆ›å»ºå¤„ç†è€…é“¾ï¼Œå¹¶æäº¤è¯·æ±‚ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„è´£ä»»é“¾æ¨¡å¼çš„å®ç°ç¤ºä¾‹ï¼ˆä»¥C++ä¸ºä¾‹ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// æŠ½è±¡å¤„ç†è€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=o>~</span><span class=n>Handler</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>HandleRequest</span><span class=p>(</span><span class=kt>int</span> <span class=n>request</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…A
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>ConcreteHandlerA</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>HandleRequest</span><span class=p>(</span><span class=kt>int</span> <span class=n>request</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>request</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>request</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;HandlerA handles request &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>request</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>successor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>successor</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>successor</span> <span class=o>=</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…B
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>ConcreteHandlerB</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>HandleRequest</span><span class=p>(</span><span class=kt>int</span> <span class=n>request</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>request</span> <span class=o>&gt;=</span> <span class=mi>10</span> <span class=o>&amp;&amp;</span> <span class=n>request</span> <span class=o>&lt;</span> <span class=mi>20</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;HandlerB handles request &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>request</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>successor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>successor</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>successor</span> <span class=o>=</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerA</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandlerA</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerB</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandlerB</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>SetSuccessor</span><span class=p>(</span><span class=n>handlerB</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>handlerB</span><span class=o>-&gt;</span><span class=n>SetSuccessor</span><span class=p>(</span><span class=k>nullptr</span><span class=p>);</span> <span class=c1>// é“¾çš„æœ«ç«¯
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>   <span class=c1>// ç”±HandlerAå¤„ç†
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>  <span class=c1>// ç”±HandlerBå¤„ç†
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=mi>25</span><span class=p>);</span>  <span class=c1>// æ— äººå¤„ç†
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>Handler</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®šä¹‰äº†å¤„ç†è¯·æ±‚çš„æ¥å£å’Œè®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„æ¥å£ã€‚<code>ConcreteHandlerA</code>å’Œ<code>ConcreteHandlerB</code>æ˜¯å…·ä½“çš„å¤„ç†è€…ï¼Œå®ƒä»¬å®ç°äº†<code>Handler</code>æ¥å£ã€‚å®¢æˆ·ç«¯åˆ›å»ºäº†ä¸¤ä¸ªå¤„ç†è€…å¯¹è±¡ï¼Œå¹¶è®¾ç½®å®ƒä»¬ä¹‹é—´çš„è´£ä»»é“¾ã€‚ç„¶åï¼Œå®¢æˆ·ç«¯é€šè¿‡è´£ä»»é“¾æäº¤è¯·æ±‚ã€‚</p><p>è´£ä»»é“¾æ¨¡å¼é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li>å¤šä¸ªå¯¹è±¡å¯èƒ½å¤„ç†åŒä¸€ä¸ªè¯·æ±‚ï¼Œä½†å…·ä½“å“ªä¸ªå¯¹è±¡å¤„ç†è¯¥è¯·æ±‚å¹¶ä¸æ˜ç¡®ã€‚</li><li>éœ€è¦åŠ¨æ€åœ°å¢åŠ æˆ–ç§»é™¤è´£ä»»é“¾ä¸­çš„å¤„ç†è€…ã€‚</li><li>å®¢æˆ·ç«¯åªéœ€è¦å‘é€è¯·æ±‚ï¼Œè€Œä¸éœ€è¦çŸ¥é“è¯·æ±‚æ˜¯å¦‚ä½•è¢«å¤„ç†çš„ï¼Œä¹Ÿä¸éœ€è¦çŸ¥é“æœ‰å“ªäº›å¯¹è±¡å‚ä¸äº†å¤„ç†ã€‚</li></ul><h2 id=2è´£ä»»é“¾æ¨¡å¼ä¼˜ç¼ºç‚¹>2.è´£ä»»é“¾æ¨¡å¼ä¼˜ç¼ºç‚¹</h2><ul><li>ä¼˜ç‚¹<ul><li>ä½ å¯ä»¥æ§åˆ¶è¯·æ±‚å¤„ç†çš„é¡ºåºã€‚</li><li>å•ä¸€èŒè´£åŸåˆ™ã€‚ ä½ å¯å¯¹å‘èµ·æ“ä½œå’Œæ‰§è¡Œæ“ä½œçš„ç±»è¿›è¡Œè§£è€¦ã€‚</li><li>å¼€é—­åŸåˆ™ã€‚ ä½ å¯ä»¥åœ¨ä¸æ›´æ”¹ç°æœ‰ä»£ç çš„æƒ…å†µä¸‹åœ¨ç¨‹åºä¸­æ–°å¢å¤„ç†è€…ã€‚</li></ul></li><li>ç¼ºç‚¹<ul><li>éƒ¨åˆ†è¯·æ±‚å¯èƒ½æœªè¢«å¤„ç†ã€‚</li></ul></li></ul><h2 id=3å¦‚ä½•è®¾è®¡ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼çš„å®¢æˆ·ç«¯æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼>3.å¦‚ä½•è®¾è®¡ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼çš„å®¢æˆ·ç«¯æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ï¼Ÿ</h2><p>åœ¨C++ä¸­è®¾è®¡ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼çš„å®¢æˆ·ç«¯ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><p><strong>å®šä¹‰å¤„ç†è€…æ¥å£</strong>ï¼šåˆ›å»ºä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰å¤„ç†è¯·æ±‚çš„æ¥å£å’Œè®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„æŒ‡é’ˆã€‚</p></li><li><p><strong>å®ç°å…·ä½“å¤„ç†è€…</strong>ï¼šåˆ›å»ºå…·ä½“å¤„ç†è€…ç±»ï¼Œç»§æ‰¿è‡ªå¤„ç†è€…æ¥å£ï¼Œå¹¶å®ç°å¤„ç†è¯·æ±‚çš„æ–¹æ³•ã€‚</p></li><li><p><strong>ç»„è£…è´£ä»»é“¾</strong>ï¼šåœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ï¼Œåˆ›å»ºå…·ä½“å¤„ç†è€…å¯¹è±¡çš„å®ä¾‹ï¼Œå¹¶å°†å®ƒä»¬è¿æ¥æˆé“¾ã€‚</p></li><li><p><strong>å‘é€è¯·æ±‚</strong>ï¼šå®¢æˆ·ç«¯åˆ›å»ºè¯·æ±‚å¹¶å°†å…¶å‘é€ç»™è´£ä»»é“¾çš„ç¬¬ä¸€ä¸ªå¤„ç†è€…ã€‚</p></li></ol><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªC++ä¸­è´£ä»»é“¾æ¨¡å¼çš„ç¤ºä¾‹å®ç°ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// å®šä¹‰è¯·æ±‚ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>Request</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>type</span><span class=p>;</span> <span class=c1>// è¯·æ±‚ç±»å‹
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>explicit</span> <span class=nf>Request</span><span class=p>(</span><span class=kt>int</span> <span class=n>type</span><span class=p>)</span> <span class=o>:</span> <span class=n>type</span><span class=p>(</span><span class=n>type</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®šä¹‰å¤„ç†è€…æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=o>~</span><span class=n>Handler</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>HandleRequest</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span> <span class=n>request</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®ç°å…·ä½“å¤„ç†è€…A
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>ConcreteHandlerA</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>HandleRequest</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span> <span class=n>request</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>request</span><span class=o>-&gt;</span><span class=n>type</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ConcreteHandlerA handles the request.&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>successor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>successor</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>successor</span> <span class=o>=</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®ç°å…·ä½“å¤„ç†è€…B
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>ConcreteHandlerB</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>HandleRequest</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span> <span class=n>request</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>request</span><span class=o>-&gt;</span><span class=n>type</span> <span class=o>==</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>std</span><span class=o>::</span><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ConcreteHandlerB handles the request.&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=nf>if</span> <span class=p>(</span><span class=n>successor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>successor</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>successor</span> <span class=o>=</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®¢æˆ·ç«¯ä»£ç 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerA</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandlerA</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerB</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandlerB</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>SetSuccessor</span><span class=p>(</span><span class=n>handlerB</span><span class=p>);</span> <span class=c1>// ç»„è£…è´£ä»»é“¾
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=c1>// åˆ›å»ºè¯·æ±‚å¹¶å‘é€
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span> <span class=n>requestA</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span> <span class=n>requestB</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>Request</span><span class=o>&gt;</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>requestA</span><span class=p>);</span> <span class=c1>// åº”è¯¥ç”±ConcreteHandlerAå¤„ç†
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>requestB</span><span class=p>);</span> <span class=c1>// åº”è¯¥ç”±ConcreteHandlerBå¤„ç†
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>Handler</code> æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ï¼Œå®šä¹‰äº† <code>HandleRequest</code> å’Œ <code>SetSuccessor</code> æ–¹æ³•ã€‚<code>ConcreteHandlerA</code> å’Œ <code>ConcreteHandlerB</code> æ˜¯å…·ä½“å¤„ç†è€…ç±»ï¼Œå®ƒä»¬å®ç°äº† <code>Handler</code> æ¥å£ã€‚æ¯ä¸ªå¤„ç†è€…åœ¨å¤„ç†è¯·æ±‚æ—¶ï¼Œä¼šæ£€æŸ¥è¯·æ±‚ç±»å‹æ˜¯å¦ç¬¦åˆè‡ªå·±çš„å¤„ç†æ¡ä»¶ï¼Œå¦‚æœä¸ç¬¦åˆä¸”å­˜åœ¨åç»§è€…ï¼Œåˆ™å°†è¯·æ±‚ä¼ é€’ç»™åç»§è€…ã€‚</p><p>å®¢æˆ·ç«¯ä»£ç åˆ›å»ºäº† <code>ConcreteHandlerA</code> å’Œ <code>ConcreteHandlerB</code> çš„å®ä¾‹ï¼Œå¹¶é€šè¿‡è°ƒç”¨ <code>SetSuccessor</code> æ–¹æ³•å°†å®ƒä»¬è¿æ¥æˆä¸€æ¡è´£ä»»é“¾ã€‚ç„¶åï¼Œå®¢æˆ·ç«¯åˆ›å»ºäº†ä¸¤ä¸ªè¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬å‘é€ç»™è´£ä»»é“¾çš„ç¬¬ä¸€ä¸ªå¤„ç†è€…ï¼ˆ<code>handlerA</code>ï¼‰ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå®¢æˆ·ç«¯å¯ä»¥çµæ´»åœ°ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼æ¥å¤„ç†è¯·æ±‚ï¼ŒåŒæ—¶ä¿æŒè¯·æ±‚å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è§£è€¦ã€‚</p><h2 id=4è´£ä»»é“¾æ¨¡å¼åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯>4.è´£ä»»é“¾æ¨¡å¼åœ¨å®é™…é¡¹ç›®ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿ</h2><p>è´£ä»»é“¾æ¨¡å¼åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…¸å‹çš„åº”ç”¨æ¡ˆä¾‹ï¼š</p><ol><li><p><strong>å¤šæ­¥éª¤å®¡æ‰¹æµç¨‹</strong>ï¼šä¾‹å¦‚ï¼Œåœ¨ä¼ä¸šå†…éƒ¨çš„å®¡æ‰¹ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªå®¡æ‰¹è¯·æ±‚å¯èƒ½éœ€è¦ç»è¿‡å¤šä¸ªå±‚çº§çš„å®¡æ‰¹è€…ï¼Œå¦‚éƒ¨é—¨ç»ç†ã€è´¢åŠ¡ç»ç†ã€æ€»ç»ç†ç­‰ã€‚æ¯ä¸ªå®¡æ‰¹è€…æ ¹æ®è‡ªå·±çš„èŒè´£å’Œæƒé™å¤„ç†è¯·æ±‚ï¼Œå¦‚æœæ— æ³•å¤„ç†åˆ™ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå®¡æ‰¹è€…ã€‚è¿™ç§åœºæ™¯å¯ä»¥é€šè¿‡è´£ä»»é“¾æ¨¡å¼å®ç°ï¼Œä½¿å¾—å®¡æ‰¹æµç¨‹æ¸…æ™°ä¸”æ˜“äºç®¡ç†ã€‚</p></li><li><p><strong>æƒé™æ§åˆ¶ç³»ç»Ÿ</strong>ï¼šåœ¨æƒé™æ§åˆ¶ä¸­ï¼Œç”¨æˆ·çš„ä¸åŒæ“ä½œå¯èƒ½éœ€è¦ä¸åŒæƒé™çº§åˆ«çš„å®¡æ‰¹ã€‚è´£ä»»é“¾æ¨¡å¼å¯ä»¥ç”¨äºæ„å»ºä¸€ä¸ªæƒé™éªŒè¯é“¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªæƒé™æ£€æŸ¥ï¼Œè¯·æ±‚åœ¨é“¾ä¸Šä¼ é€’ç›´åˆ°è¢«é€‚å½“æƒé™çš„èŠ‚ç‚¹å¤„ç†ã€‚</p></li><li><p><strong>äº‹ä»¶å¤„ç†ç³»ç»Ÿ</strong>ï¼šåœ¨å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGUIï¼‰ç¼–ç¨‹ä¸­ï¼Œäº‹ä»¶ï¼ˆå¦‚é¼ æ ‡ç‚¹å‡»ã€é”®ç›˜è¾“å…¥ï¼‰å¯èƒ½éœ€è¦å¤šä¸ªç»„ä»¶å¤„ç†ã€‚è´£ä»»é“¾æ¨¡å¼å…è®¸äº‹ä»¶åœ¨ç»„ä»¶å±‚çº§ç»“æ„ä¸­ä¼ é€’ï¼Œç›´åˆ°æŸä¸ªç»„ä»¶å¤„ç†è¯¥äº‹ä»¶ã€‚</p></li><li><p><strong>æ—¥å¿—ç³»ç»Ÿ</strong>ï¼šåœ¨æ—¥å¿—ç³»ç»Ÿä¸­ï¼Œå¯ä»¥æ ¹æ®æ—¥å¿—çº§åˆ«ï¼ˆå¦‚INFOã€DEBUGã€ERRORï¼‰å°†æ—¥å¿—æ¶ˆæ¯ä¼ é€’ç»™ä¸åŒçš„å¤„ç†å™¨ã€‚è´£ä»»é“¾æ¨¡å¼å¯ä»¥ç”¨äºæ„å»ºæ—¥å¿—å¤„ç†å™¨é“¾ï¼Œæ¯ä¸ªå¤„ç†å™¨å¤„ç†ç‰¹å®šçº§åˆ«çš„æ—¥å¿—ã€‚</p></li><li><p><strong>è¿‡æ»¤å™¨é“¾</strong>ï¼šåœ¨Javaçš„Servletè¿‡æ»¤å™¨ä¸­ï¼Œè¯·æ±‚åœ¨åˆ°è¾¾ç›®æ ‡èµ„æºä¹‹å‰å¯èƒ½éœ€è¦é€šè¿‡å¤šä¸ªè¿‡æ»¤å™¨çš„å¤„ç†ã€‚æ¯ä¸ªè¿‡æ»¤å™¨å¯ä»¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œå¦‚èº«ä»½éªŒè¯ã€æ—¥å¿—è®°å½•ç­‰ï¼Œç„¶åå°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚</p></li><li><p><strong>å·¥ä½œæµç³»ç»Ÿ</strong>ï¼šåœ¨å·¥ä½œæµç®¡ç†ç³»ç»Ÿä¸­ï¼Œä»»åŠ¡å¯èƒ½éœ€è¦æŒ‰ç…§ç‰¹å®šçš„é¡ºåºç»è¿‡å¤šä¸ªå¤„ç†æ­¥éª¤ã€‚è´£ä»»é“¾æ¨¡å¼å¯ä»¥ç”¨æ¥æ„å»ºè¿™æ ·çš„å·¥ä½œæµï¼Œæ¯ä¸ªæ­¥éª¤ä½œä¸ºä¸€ä¸ªå¤„ç†èŠ‚ç‚¹ï¼Œä»»åŠ¡åœ¨é“¾ä¸Šä¼ é€’ç›´åˆ°å®Œæˆã€‚</p></li><li><p><strong>é”™è¯¯å¤„ç†</strong>ï¼šåœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œé”™è¯¯å’Œå¼‚å¸¸å¯èƒ½éœ€è¦å¤šä¸ªå¤„ç†å™¨æ¥å¤„ç†ã€‚è´£ä»»é“¾æ¨¡å¼å¯ä»¥ç”¨äºæ„å»ºä¸€ä¸ªé”™è¯¯å¤„ç†é“¾ï¼Œæ¯ä¸ªèŠ‚ç‚¹è´Ÿè´£å¤„ç†ç‰¹å®šç±»å‹çš„é”™è¯¯ã€‚</p></li><li><p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè´£ä»»é“¾æ¨¡å¼å¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ï¼Œä¾‹å¦‚é€šè¿‡ç¼“å­˜æœºåˆ¶é¿å…ä¸å¿…è¦çš„å¤„ç†ï¼Œæˆ–è€…é€šè¿‡è¯·æ±‚è¿‡æ»¤å‡å°‘è´£ä»»é“¾çš„éå†ã€‚</p></li><li><p><strong>Tomcat è¿‡æ»¤å™¨</strong>ï¼šåœ¨TomcatæœåŠ¡å™¨ä¸­ï¼Œè¿‡æ»¤å™¨é“¾ç”¨äºå¤„ç†HTTPè¯·æ±‚å’Œå“åº”ã€‚æ¯ä¸ªè¿‡æ»¤å™¨å¯ä»¥æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œå¦‚æƒé™æ£€æŸ¥ã€è¯·æ±‚æ—¥å¿—è®°å½•ç­‰ï¼Œç„¶åå°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚</p></li></ol><p>é€šè¿‡è¿™äº›åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è´£ä»»é“¾æ¨¡å¼å¦‚ä½•å¸®åŠ©ç³»ç»Ÿè®¾è®¡å˜å¾—æ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><h2 id=5è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•å®ç°çš„èƒ½å¦ä¸¾ä¾‹è¯´æ˜>5.è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­æ˜¯å¦‚ä½•å®ç°çš„ï¼Œèƒ½å¦ä¸¾ä¾‹è¯´æ˜ï¼Ÿ</h2><p>è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­çš„åº”ç”¨ä¸»è¦æ˜¯é€šè¿‡åˆ›å»ºä¸€ç³»åˆ—çš„å¤„ç†å¯¹è±¡ï¼ˆå¤„ç†å™¨ï¼‰ï¼Œæ¯ä¸ªå¯¹è±¡è´Ÿè´£ç‰¹å®šçš„æƒé™éªŒè¯ä»»åŠ¡ã€‚è¿™äº›å¤„ç†å¯¹è±¡æŒ‰ç…§ç‰¹å®šçš„é¡ºåºè¿æ¥æˆä¸€æ¡é“¾ï¼Œå½“ä¸€ä¸ªæƒé™éªŒè¯è¯·æ±‚åˆ°æ¥æ—¶ï¼Œè¯·æ±‚ä¼šæ²¿ç€è¿™æ¡é“¾ä¼ é€’ï¼Œç›´åˆ°è¢«é€‚å½“çš„å¤„ç†å¯¹è±¡å¤„ç†ã€‚</p><p>ä»¥ä¸‹æ˜¯è´£ä»»é“¾æ¨¡å¼åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­å®ç°çš„æ­¥éª¤å’ŒæŠ€æœ¯ç»†èŠ‚ï¼š</p><ol><li><p><strong>å®šä¹‰å¤„ç†æ¥å£</strong>ï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ªå¤„ç†æ¥å£ï¼Œé€šå¸¸åŒ…å«ä¸€ä¸ªå¤„ç†æ–¹æ³•å’Œä¸€ä¸ªè®¾ç½®ä¸‹ä¸€ä¸ªå¤„ç†è€…çš„å¼•ç”¨çš„æ–¹æ³•ã€‚</p></li><li><p><strong>åˆ›å»ºå…·ä½“å¤„ç†è€…</strong>ï¼šæ ¹æ®ä¸åŒçš„æƒé™éªŒè¯éœ€æ±‚ï¼Œåˆ›å»ºå…·ä½“çš„å¤„ç†è€…ç±»ï¼Œæ¯ä¸ªç±»å®ç°å¤„ç†æ¥å£ï¼Œå¹¶åœ¨å¤„ç†æ–¹æ³•ä¸­æ·»åŠ å…·ä½“çš„éªŒè¯é€»è¾‘ã€‚</p></li><li><p><strong>ç»„è£…è´£ä»»é“¾</strong>ï¼šåœ¨ç³»ç»Ÿåˆå§‹åŒ–æˆ–è¿è¡Œæ—¶ï¼Œæ ¹æ®é…ç½®ä¿¡æ¯æˆ–ä¸šåŠ¡é€»è¾‘åŠ¨æ€åœ°ç»„è£…è´£ä»»é“¾ï¼Œå°†å„ä¸ªå¤„ç†è€…è¿æ¥èµ·æ¥ã€‚</p></li><li><p><strong>è¯·æ±‚å¤„ç†</strong>ï¼šå½“ç”¨æˆ·å‘èµ·æƒé™è¯·æ±‚æ—¶ï¼Œè¯·æ±‚é¦–å…ˆè¢«å‘é€åˆ°è´£ä»»é“¾çš„ç¬¬ä¸€ä¸ªå¤„ç†è€…ï¼Œå¦‚æœè¯¥å¤„ç†è€…æ— æ³•å¤„ç†ï¼Œåˆ™å°†è¯·æ±‚ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼Œä¾æ­¤ç±»æ¨ã€‚</p></li><li><p><strong>å¤„ç†ç»“æœ</strong>ï¼šä¸€æ—¦è¯·æ±‚è¢«å¤„ç†ï¼Œå¤„ç†è€…å¯ä»¥è¿”å›å¤„ç†ç»“æœï¼Œæˆ–è€…æ ¹æ®ä¸šåŠ¡éœ€æ±‚ç»§ç»­æ²¿ç€è´£ä»»é“¾ä¼ é€’ã€‚</p></li><li><p><strong>é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•</strong>ï¼šåœ¨è´£ä»»é“¾çš„å®ç°ä¸­ï¼Œé€šå¸¸éœ€è¦è€ƒè™‘é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•çš„é€»è¾‘ï¼Œä»¥ä¾¿äºè°ƒè¯•å’Œå®¡è®¡ã€‚</p></li></ol><p>ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªWebåº”ç”¨ä¸­ï¼Œå¯èƒ½éœ€è¦å¯¹ç”¨æˆ·çš„è¯·æ±‚è¿›è¡Œç™»å½•éªŒè¯ã€è§’è‰²æ£€æŸ¥ã€æƒé™éªŒè¯ç­‰å¤šä¸ªæ­¥éª¤çš„æ£€æŸ¥ã€‚æ¯ä¸ªæ­¥éª¤éƒ½ç”±ä¸€ä¸ªå…·ä½“å¤„ç†è€…å®ç°ï¼Œè¿™äº›å¤„ç†è€…æŒ‰ç…§è¯·æ±‚å¤„ç†çš„é¡ºåºè¿æ¥æˆä¸€æ¡è´£ä»»é“¾ã€‚ç”¨æˆ·çš„è¯·æ±‚é¦–å…ˆç»è¿‡ç™»å½•éªŒè¯å¤„ç†å™¨ï¼Œå¦‚æœé€šè¿‡ï¼Œåˆ™ä¼ é€’ç»™è§’è‰²æ£€æŸ¥å¤„ç†å™¨ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰çš„éªŒè¯éƒ½é€šè¿‡ï¼Œæˆ–è€…æŸä¸ªéªŒè¯å¤±è´¥å¹¶è¿”å›é”™è¯¯ä¿¡æ¯ã€‚</p><p>é€šè¿‡è´£ä»»é“¾æ¨¡å¼ï¼Œæƒé™æ§åˆ¶ç³»ç»Ÿå¯ä»¥çµæ´»åœ°å¢åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹æƒé™éªŒè¯çš„æ­¥éª¤ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ç°æœ‰çš„ä»£ç ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œè¯¥æ¨¡å¼ä¹Ÿä½¿å¾—è¯·æ±‚å¤„ç†çš„æµç¨‹æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºç†è§£å’Œç®¡ç†ã€‚</p><h2 id=6åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­å¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚å®ƒä¼šå¦‚ä½•å½±å“æ•´ä¸ªè´£ä»»é“¾>6.åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œå¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå®ƒä¼šå¦‚ä½•å½±å“æ•´ä¸ªè´£ä»»é“¾ï¼Ÿ</h2><p>åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œå¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚ï¼Œè¿™é€šå¸¸ä¼šå¯¼è‡´ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><ol><li><p><strong>ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…</strong>ï¼šå¦‚æœå½“å‰å¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå®ƒä¼šå°†è¯·æ±‚ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šä¸€ç›´æŒç»­ï¼Œç›´åˆ°è¯·æ±‚è¢«å¤„ç†æˆ–ä¼ é€’åˆ°é“¾çš„æœ«ç«¯ã€‚</p></li><li><p><strong>è¯·æ±‚æœªè¢«å¤„ç†</strong>ï¼šå¦‚æœè´£ä»»é“¾ä¸­çš„æ‰€æœ‰å¤„ç†è€…éƒ½æ— æ³•å¤„ç†è¯·æ±‚ï¼Œé‚£ä¹ˆè¯·æ±‚å¯èƒ½ä¼šè¢«å¿½ç•¥æˆ–è¢«è§†ä¸ºæ— æ•ˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯èƒ½éœ€è¦æä¾›ä¸€ç§é»˜è®¤çš„å¤„ç†ç­–ç•¥æˆ–é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p></li><li><p><strong>é”™è¯¯å¤„ç†</strong>ï¼šåœ¨æŸäº›å®ç°ä¸­ï¼Œå¦‚æœè¯·æ±‚æ— æ³•è¢«å¤„ç†ï¼Œå¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯å¤„ç†æµç¨‹ã€‚è¿™å¯ä»¥æ˜¯è´£ä»»é“¾ä¸­çš„ä¸€ä¸ªç‰¹æ®Šå¤„ç†è€…ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªåœ¨é“¾å¤–ç‹¬ç«‹çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p></li><li><p><strong>è®°å½•æ—¥å¿—</strong>ï¼šåœ¨è¯·æ±‚æ— æ³•è¢«å¤„ç†çš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œä»¥ä¾¿åç»­åˆ†æå’Œè°ƒè¯•ã€‚</p></li><li><p><strong>é€šçŸ¥å®¢æˆ·ç«¯</strong>ï¼šåœ¨æŸäº›è®¾è®¡ä¸­ï¼Œå¦‚æœè¯·æ±‚æ— æ³•è¢«å¤„ç†ï¼Œè´£ä»»é“¾å¯èƒ½ä¼šé€šè¿‡æŸç§æ–¹å¼é€šçŸ¥å®¢æˆ·ç«¯ï¼Œä¾‹å¦‚è¿”å›ä¸€ä¸ªé”™è¯¯ç æˆ–æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p></li><li><p><strong>ç»ˆæ­¢å¤„ç†</strong>ï¼šå¦‚æœæŸä¸ªå¤„ç†è€…æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå®ƒå¯ä»¥é€‰æ‹©ä¸å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼Œä»è€Œç»ˆæ­¢è¿›ä¸€æ­¥çš„å¤„ç†ã€‚</p></li><li><p><strong>å›é€€å¤„ç†</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœåç»­å¤„ç†è€…éƒ½æ— æ³•å¤„ç†è¯·æ±‚ï¼Œè´£ä»»é“¾å¯èƒ½ä¼šå›é€€åˆ°ä¹‹å‰çš„å¤„ç†è€…ï¼Œå°è¯•å…¶ä»–å¯èƒ½çš„å¤„ç†ç­–ç•¥ã€‚</p></li></ol><p>ä¸ºäº†ç¡®ä¿è´£ä»»é“¾çš„æ­£ç¡®æ€§å’Œå¥å£®æ€§ï¼Œè®¾è®¡æ—¶åº”è¯¥è€ƒè™‘ä»¥ä¸‹å› ç´ ï¼š</p><ul><li><strong>é»˜è®¤å¤„ç†è€…</strong>ï¼šåœ¨è´£ä»»é“¾çš„æœ«ç«¯è®¾ç½®ä¸€ä¸ªé»˜è®¤å¤„ç†è€…ï¼Œä»¥å¤„ç†é‚£äº›æœªè¢«å‰é¢å¤„ç†è€…å¤„ç†çš„è¯·æ±‚ã€‚</li><li><strong>é”™è¯¯å¤„ç†ç­–ç•¥</strong>ï¼šå®šä¹‰æ¸…æ™°çš„é”™è¯¯å¤„ç†ç­–ç•¥ï¼Œä»¥ä¾¿åœ¨è¯·æ±‚æ— æ³•è¢«å¤„ç†æ—¶é‡‡å–é€‚å½“çš„æªæ–½ã€‚</li><li><strong>æ—¥å¿—è®°å½•</strong>ï¼šåœ¨è´£ä»»é“¾çš„æ¯ä¸ªå¤„ç†è€…ä¸­æ·»åŠ æ—¥å¿—è®°å½•ï¼Œä»¥ä¾¿äºè·Ÿè¸ªè¯·æ±‚çš„å¤„ç†è¿‡ç¨‹å’Œè¯Šæ–­é—®é¢˜ã€‚</li><li><strong>å®¢æˆ·ç«¯åé¦ˆ</strong>ï¼šç¡®ä¿å®¢æˆ·ç«¯èƒ½å¤Ÿæ¥æ”¶åˆ°å…³äºè¯·æ±‚å¤„ç†ç»“æœçš„åé¦ˆï¼Œæ— è®ºæ˜¯æˆåŠŸå¤„ç†è¿˜æ˜¯æ— æ³•å¤„ç†ã€‚</li></ul><p>é€šè¿‡è¿™äº›æªæ–½ï¼Œå¯ä»¥ç¡®ä¿è´£ä»»é“¾æ¨¡å¼åœ¨å¤„ç†è¯·æ±‚æ—¶çš„çµæ´»æ€§å’Œå¯é æ€§ï¼ŒåŒæ—¶å‡å°‘å› è¯·æ±‚æœªè¢«å¤„ç†è€Œå¸¦æ¥çš„æ½œåœ¨é—®é¢˜ã€‚</p><h2 id=7å¦‚æœè´£ä»»é“¾ä¸­çš„æŸä¸ªå¤„ç†è€…æŠ›å‡ºå¼‚å¸¸åº”è¯¥å¦‚ä½•è®¾è®¡å¼‚å¸¸å¤„ç†æœºåˆ¶>7.å¦‚æœè´£ä»»é“¾ä¸­çš„æŸä¸ªå¤„ç†è€…æŠ›å‡ºå¼‚å¸¸ï¼Œåº”è¯¥å¦‚ä½•è®¾è®¡å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Ÿ</h2><p>åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­ï¼Œå¦‚æœæŸä¸ªå¤„ç†è€…åœ¨å¤„ç†è¯·æ±‚æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œåº”è¯¥è®¾è®¡ä¸€ä¸ªå¥å£®çš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ¥ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚ä»¥ä¸‹æ˜¯è®¾è®¡å¼‚å¸¸å¤„ç†æœºåˆ¶çš„ä¸€äº›å»ºè®®ï¼š</p><ol><li><p><strong>åœ¨å¤„ç†è€…ä¸­æ•è·å¼‚å¸¸</strong>ï¼šæ¯ä¸ªå¤„ç†è€…åº”è¯¥åœ¨å…¶<code>handleRequest</code>æ–¹æ³•ä¸­æ·»åŠ å¼‚å¸¸æ•è·é€»è¾‘ï¼Œä»¥ä¾¿åœ¨å¤„ç†è¯·æ±‚æ—¶æ•è·å¹¶å¤„ç†å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ã€‚</p></li><li><p><strong>å®šä¹‰å¼‚å¸¸å¤„ç†ç­–ç•¥</strong>ï¼šä¸ºè´£ä»»é“¾å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—ã€å‘é€é”™è¯¯é€šçŸ¥ã€æ¸…ç†èµ„æºç­‰ã€‚</p></li><li><p><strong>ä¼ é€’å¼‚å¸¸ä¿¡æ¯</strong>ï¼šå¦‚æœå½“å‰å¤„ç†è€…æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œå¯ä»¥å°†å¼‚å¸¸ä¿¡æ¯ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ï¼Œæˆ–è€…ä¼ é€’ç»™é“¾å¤–çš„å¼‚å¸¸å¤„ç†å™¨ã€‚</p></li><li><p><strong>è®¾ç½®å¼‚å¸¸å¤„ç†è€…</strong>ï¼šåœ¨è´£ä»»é“¾çš„æœ«ç«¯æˆ–ç‰¹å®šä½ç½®è®¾ç½®ä¸€ä¸ªä¸“é—¨ç”¨äºå¤„ç†å¼‚å¸¸çš„å¤„ç†è€…ï¼Œå®ƒè´Ÿè´£å¤„ç†é“¾ä¸­å…¶ä»–å¤„ç†è€…æœªèƒ½å¤„ç†çš„å¼‚å¸¸ã€‚</p></li><li><p><strong>å‘ä¸ŠæŠ›å‡ºå¼‚å¸¸</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœè´£ä»»é“¾æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œå¯ä»¥é€‰æ‹©å°†å¼‚å¸¸å‘ä¸ŠæŠ›å‡ºï¼Œç”±å®¢æˆ·ç«¯ä»£ç æ¥å¤„ç†ã€‚</p></li><li><p><strong>å®¢æˆ·ç«¯å¼‚å¸¸å¤„ç†</strong>ï¼šå®¢æˆ·ç«¯ä»£ç åº”è¯¥å‡†å¤‡å¥½å¤„ç†å¯èƒ½ä»è´£ä»»é“¾æŠ›å‡ºçš„å¼‚å¸¸ï¼Œè¿™å¯èƒ½åŒ…æ‹¬ä¸ºç”¨æˆ·æä¾›é”™è¯¯ä¿¡æ¯æˆ–æ‰§è¡Œå…¶ä»–æ¢å¤æ“ä½œã€‚</p></li><li><p><strong>ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼šå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨åŸºç±»ä¸­å®šä¹‰è´£ä»»é“¾çš„å¤„ç†æµç¨‹ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶æœºå¤„ç†å¼‚å¸¸ï¼Œè¿™æ ·å…·ä½“å¤„ç†è€…åªéœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘ã€‚</p></li><li><p><strong>å¼‚å¸¸æ—¥å¿—è®°å½•</strong>ï¼šç¡®ä¿æ‰€æœ‰æ•è·çš„å¼‚å¸¸éƒ½è¢«è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œä»¥ä¾¿äºé—®é¢˜è¿½è¸ªå’Œç³»ç»Ÿç›‘æ§ã€‚</p></li><li><p><strong>å¼‚å¸¸é€æ˜æ€§</strong>ï¼šåœ¨è®¾è®¡è´£ä»»é“¾æ—¶ï¼Œåº”è¯¥æ˜ç¡®å“ªäº›å¼‚å¸¸æ˜¯å¤„ç†è€…å¿…é¡»å¤„ç†çš„ï¼Œå“ªäº›æ˜¯å¯ä»¥ä¼ é€’çš„ï¼Œè¿™æœ‰åŠ©äºå‡å°‘å¼‚å¸¸å¤„ç†çš„æ··ä¹±ã€‚</p></li><li><p><strong>èµ„æºæ¸…ç†</strong>ï¼šåœ¨æ•è·å¼‚å¸¸åï¼Œç¡®ä¿è¿›è¡Œé€‚å½“çš„èµ„æºæ¸…ç†å·¥ä½œï¼Œä»¥é˜²æ­¢èµ„æºæ³„æ¼ã€‚</p></li></ol><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„C++ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨è´£ä»»é“¾æ¨¡å¼ä¸­å¤„ç†å¼‚å¸¸ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-cpp data-lang=cpp><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;exception&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;memory&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// å¤„ç†è€…æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=o>~</span><span class=n>Handler</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>HandleRequest</span><span class=p>(</span><span class=n>Request</span><span class=o>&amp;</span> <span class=n>request</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>virtual</span> <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>GetSuccessor</span><span class=p>()</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>ConcreteHandler</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Handler</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>HandleException</span><span class=p>(</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>exception</span><span class=o>&amp;</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// å¼‚å¸¸å¤„ç†é€»è¾‘ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>std</span><span class=o>::</span><span class=n>cerr</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Exception caught: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>e</span><span class=p>.</span><span class=n>what</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>ProcessRequest</span><span class=p>(</span><span class=n>Request</span><span class=o>&amp;</span> <span class=n>request</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// ä¸šåŠ¡å¤„ç†é€»è¾‘
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>exception</span><span class=o>&amp;</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>HandleException</span><span class=p>(</span><span class=n>e</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>// å¯ä»¥é€‰æ‹©å°†å¼‚å¸¸ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†è€…
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span> <span class=p>(</span><span class=n>successor</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>successor</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>HandleRequest</span><span class=p>(</span><span class=n>Request</span><span class=o>&amp;</span> <span class=n>request</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>ProcessRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetSuccessor</span><span class=p>(</span><span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>successor</span><span class=p>)</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>successor</span> <span class=o>=</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>std</span><span class=o>::</span><span class=n>shared_ptr</span><span class=o>&lt;</span><span class=n>Handler</span><span class=o>&gt;</span> <span class=n>GetSuccessor</span><span class=p>()</span> <span class=k>override</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>successor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¯·æ±‚ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>class</span> <span class=nc>Request</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è¯·æ±‚æ•°æ®
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å®¢æˆ·ç«¯
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerA</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandler</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>auto</span> <span class=n>handlerB</span> <span class=o>=</span> <span class=n>std</span><span class=o>::</span><span class=n>make_shared</span><span class=o>&lt;</span><span class=n>ConcreteHandler</span><span class=o>&gt;</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>SetSuccessor</span><span class=p>(</span><span class=n>handlerB</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Request</span> <span class=n>request</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// å‘é€è¯·æ±‚å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>try</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>handlerA</span><span class=o>-&gt;</span><span class=n>HandleRequest</span><span class=p>(</span><span class=n>request</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>catch</span> <span class=p>(</span><span class=k>const</span> <span class=n>std</span><span class=o>::</span><span class=n>exception</span><span class=o>&amp;</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>std</span><span class=o>::</span><span class=n>cerr</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Exception in client: &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>e</span><span class=p>.</span><span class=n>what</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// å®¢æˆ·ç«¯å¯ä»¥æ‰§è¡Œé¢å¤–çš„å¼‚å¸¸å¤„ç†é€»è¾‘
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>ConcreteHandler</code> ç±»åœ¨å¤„ç†è¯·æ±‚æ—¶å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚åœ¨<code>ProcessRequest</code>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>try-catch</code>å—æ¥æ•è·å¼‚å¸¸ï¼Œå¹¶è°ƒç”¨<code>HandleException</code>æ–¹æ³•æ¥å¤„ç†å¼‚å¸¸ã€‚å¦‚æœå­˜åœ¨åç»§è€…ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¼‚å¸¸ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†è€…ã€‚åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå‡†å¤‡äº†ä¸€ä¸ª<code>try-catch</code>å—æ¥æ•è·å¯èƒ½ä»è´£ä»»é“¾æŠ›å‡ºçš„å¼‚å¸¸ã€‚</p><p>é€šè¿‡è¿™ç§æ–¹å¼ï¼Œè´£ä»»é“¾æ¨¡å¼ä¸­çš„å¼‚å¸¸å¯ä»¥è¢«é€‚å½“åœ°æ•è·å’Œå¤„ç†ï¼ŒåŒæ—¶ä¿è¯äº†ç³»ç»Ÿçš„å¥å£®æ€§å’Œç¨³å®šæ€§ã€‚</p><h2 id=8åœ¨è®¾è®¡è´£ä»»é“¾æ—¶å¦‚ä½•ç¡®ä¿å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§>8.åœ¨è®¾è®¡è´£ä»»é“¾æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§ï¼Ÿ</h2><p>åœ¨è®¾è®¡è´£ä»»é“¾æ—¶ï¼Œç¡®ä¿å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®ç°ï¼š</p><ol><li><p><strong>ç»Ÿä¸€å¼‚å¸¸å¤„ç†ç­–ç•¥</strong>ï¼šå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æ¥å£æˆ–æŠ½è±¡ç±»ï¼Œç¡®ä¿æ‰€æœ‰å¤„ç†å™¨éƒ½éµå¾ªç›¸åŒçš„å¼‚å¸¸å¤„ç†è§„åˆ™ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨å¤„ç†å™¨æ¥å£ä¸­å®šä¹‰ä¸€ä¸ªå¼‚å¸¸å¤„ç†æ–¹æ³•æ¥å®ç°ï¼Œä¾‹å¦‚ <code>handleException(Exception e)</code>ã€‚</p></li><li><p><strong>å¼‚å¸¸æ•è·ä¸ä¼ æ’­</strong>ï¼šåœ¨æ¯ä¸ªå¤„ç†å™¨ä¸­ï¼Œä½¿ç”¨ <code>try-catch</code> å—æ¥æ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶æ ¹æ®éœ€è¦å¤„ç†æˆ–å°†å¼‚å¸¸ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å™¨ã€‚å¦‚æœå½“å‰å¤„ç†å™¨æ— æ³•å¤„ç†å¼‚å¸¸ï¼Œåº”ç¡®ä¿å¼‚å¸¸èƒ½å¤Ÿé€æ˜åœ°ä¼ é€’åˆ°é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å™¨ã€‚</p></li><li><p><strong>æ—¥å¿—è®°å½•</strong>ï¼šåœ¨å¼‚å¸¸å¤„ç†æ–¹æ³•ä¸­æ·»åŠ æ—¥å¿—è®°å½•ï¼Œè®°å½•å¼‚å¸¸çš„å‘ç”Ÿã€å¤„ç†å™¨çš„åç§°å’Œå¼‚å¸¸ä¿¡æ¯ã€‚è¿™æœ‰åŠ©äºè°ƒè¯•å’Œç›‘æ§è´£ä»»é“¾ä¸­çš„å¼‚å¸¸æƒ…å†µã€‚</p></li><li><p><strong>å¼‚å¸¸å°è£…</strong>ï¼šå¦‚æœéœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œé¢å¤–çš„å¤„ç†æˆ–è½¬æ¢ï¼Œå¯ä»¥åœ¨å¤„ç†å™¨ä¸­å°è£…å¼‚å¸¸ï¼Œç„¶åç»§ç»­æ²¿ç€è´£ä»»é“¾ä¼ é€’æˆ–è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p></li><li><p><strong>é“¾æœ«ç«¯çš„å¼‚å¸¸å¤„ç†</strong>ï¼šåœ¨è´£ä»»é“¾çš„æœ«ç«¯è®¾ç½®ä¸€ä¸ªé»˜è®¤çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œç”¨äºå¤„ç†é“¾ä¸­æœªè¢«æ•è·çš„å¼‚å¸¸ã€‚è¿™å¯ä»¥ç¡®ä¿æ‰€æœ‰å¼‚å¸¸éƒ½èƒ½å¾—åˆ°å¦¥å–„å¤„ç†ã€‚</p></li><li><p><strong>å®¢æˆ·ç«¯é€æ˜æ€§</strong>ï¼šå®¢æˆ·ç«¯å‘é€è¯·æ±‚æ—¶ï¼Œä¸éœ€è¦çŸ¥é“è´£ä»»é“¾ä¸­çš„å…·ä½“å¼‚å¸¸å¤„ç†é€»è¾‘ã€‚å¤„ç†å™¨é“¾åº”éšè—å¼‚å¸¸å¤„ç†çš„ç»†èŠ‚ï¼Œåªå‘å®¢æˆ·ç«¯è¿”å›æœ€ç»ˆçš„å¤„ç†ç»“æœã€‚</p></li><li><p><strong>ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼</strong>ï¼šå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼åœ¨åŸºç±»ä¸­å®šä¹‰è´£ä»»é“¾çš„å¤„ç†æµç¨‹ï¼ŒåŒ…æ‹¬å¼‚å¸¸å¤„ç†çš„æ¨¡æ¿æ–¹æ³•ï¼Œå…·ä½“å¤„ç†å™¨åªéœ€å®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ã€‚</p></li><li><p><strong>å¼‚å¸¸å¤„ç†çš„ä¸€è‡´æ€§</strong>ï¼šç¡®ä¿æ‰€æœ‰å¤„ç†å™¨ä½¿ç”¨ç›¸åŒçš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨ç›¸åŒçš„æ—¥å¿—æ ¼å¼ã€å¼‚å¸¸å¤„ç†æµç¨‹å’Œé”™è¯¯ä»£ç ã€‚</p></li><li><p><strong>æµ‹è¯•å’ŒéªŒè¯</strong>ï¼šå¯¹è´£ä»»é“¾ä¸­çš„å¼‚å¸¸å¤„ç†æœºåˆ¶è¿›è¡Œå……åˆ†çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œç¡®ä¿åœ¨å„ç§å¼‚å¸¸æƒ…å†µä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œã€‚</p></li></ol><p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥ç¡®ä¿è´£ä»»é“¾ä¸­çš„å¼‚å¸¸å¤„ç†æ—¢é€æ˜åˆä¸€è‡´ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h2 id=9åœ¨è®¾è®¡å¼‚å¸¸å¤„ç†ç­–ç•¥æ—¶æœ‰å“ªäº›å¸¸è§çš„é”™è¯¯æˆ–è€…é™·é˜±æˆ‘éœ€è¦é¿å…>9.åœ¨è®¾è®¡å¼‚å¸¸å¤„ç†ç­–ç•¥æ—¶ï¼Œæœ‰å“ªäº›å¸¸è§çš„é”™è¯¯æˆ–è€…é™·é˜±æˆ‘éœ€è¦é¿å…ï¼Ÿ</h2><p>åœ¨è®¾è®¡å¼‚å¸¸å¤„ç†ç­–ç•¥æ—¶ï¼Œç¡®å®å­˜åœ¨ä¸€äº›å¸¸è§çš„é”™è¯¯å’Œé™·é˜±ï¼Œä»¥ä¸‹æ˜¯ä½ åº”è¯¥é¿å…çš„å‡ ç‚¹ï¼š</p><ol><li><p><strong>æ•è·æ‰€æœ‰å¼‚å¸¸</strong>ï¼š</p><ul><li>é¿å…ä½¿ç”¨ä¸€ä¸ªé€šç”¨çš„ <code>catch</code> å—æ¥æ•è·æ‰€æœ‰ç±»å‹çš„å¼‚å¸¸ã€‚è¿™æ ·åšä¼šæ©ç›–é”™è¯¯çš„æœ¬è´¨ï¼Œä½¿å¾—è°ƒè¯•å˜å¾—å›°éš¾ï¼Œå¹¶ä¸”å¯èƒ½ä¼šéšè—ä¸€äº›ä¸åº”è¯¥è¢«å¿½ç•¥çš„é”™è¯¯ã€‚</li></ul></li><li><p><strong>å¿½ç•¥å¼‚å¸¸</strong>ï¼š</p><ul><li>ä¸è¦å¿½ç•¥æˆ–ä¸å¤„ç†æ•è·åˆ°çš„å¼‚å¸¸ã€‚å¦‚æœä¸€ä¸ªå¼‚å¸¸è¢«æ•è·ï¼Œåº”è¯¥é‡‡å–é€‚å½“çš„æªæ–½ï¼Œå¦‚è®°å½•æ—¥å¿—ã€æ¸…ç†èµ„æºæˆ–å‘ä¸Šå±‚æŠ›å‡ºæ›´å…·ä½“çš„å¼‚å¸¸ã€‚</li></ul></li><li><p><strong>è¿‡åº¦ä½¿ç”¨å¼‚å¸¸</strong>ï¼š</p><ul><li>å¼‚å¸¸åº”è¯¥ç”¨äºå¤„ç†éæ­£å¸¸çš„æƒ…å†µï¼Œè€Œä¸æ˜¯æ­£å¸¸çš„ç¨‹åºæµç¨‹æ§åˆ¶ã€‚ä¸è¦ä½¿ç”¨å¼‚å¸¸æ¥ä»£æ›¿æ­£å¸¸çš„ç¨‹åºé€»è¾‘ï¼Œå¦‚ä½¿ç”¨å¼‚å¸¸æ¥æ§åˆ¶å¾ªç¯æˆ–æ¡ä»¶åˆ†æ”¯ã€‚</li></ul></li><li><p><strong>ä¸æ°å½“çš„å¼‚å¸¸ç±»å‹</strong>ï¼š</p><ul><li>æŠ›å‡ºçš„å¼‚å¸¸åº”è¯¥æ˜¯åˆé€‚çš„ç±»å‹ï¼Œèƒ½å¤Ÿå‡†ç¡®æè¿°é”™è¯¯æƒ…å†µã€‚é¿å…æŠ›å‡ºè¿‡äºé€šç”¨çš„å¼‚å¸¸ï¼Œå¦‚ <code>Exception</code> æˆ– <code>Throwable</code>ï¼Œè€Œåº”è¯¥ä½¿ç”¨æ›´å…·ä½“çš„å¼‚å¸¸ç±»å‹ã€‚</li></ul></li><li><p><strong>ä¸æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</strong>ï¼š</p><ul><li>å½“æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œåº”è¯¥æä¾›æ¸…æ™°å’Œè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œè¿™æœ‰åŠ©äºè°ƒè¯•å’Œé”™è¯¯è¿½è¸ªã€‚é¿å…æŠ›å‡ºç©ºçš„æˆ–å«ç³Šä¸æ¸…çš„å¼‚å¸¸ä¿¡æ¯ã€‚</li></ul></li><li><p><strong>èµ„æºæ³„éœ²</strong>ï¼š</p><ul><li>åœ¨å¼‚å¸¸å¤„ç†ä¸­ï¼Œç¡®ä¿æ‰€æœ‰åˆ†é…çš„èµ„æºï¼ˆå¦‚æ–‡ä»¶å¥æŸ„ã€æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥ç­‰ï¼‰åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶éƒ½èƒ½è¢«æ­£ç¡®é‡Šæ”¾ï¼Œé¿å…èµ„æºæ³„éœ²ã€‚</li></ul></li><li><p><strong>ä¸æ¢å¤çŠ¶æ€</strong>ï¼š</p><ul><li>åœ¨æ•è·å¼‚å¸¸åï¼Œåº”è¯¥å°½å¯èƒ½æ¢å¤ç³»ç»Ÿåˆ°ä¸€ä¸ªå®‰å…¨å’Œä¸€è‡´çš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œåœ¨æ•°æ®åº“æ“ä½œä¸­ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œåº”è¯¥ç¡®ä¿äº‹åŠ¡è¢«å›æ»šã€‚</li></ul></li><li><p><strong>ä¸è®°å½•å¼‚å¸¸</strong>ï¼š</p><ul><li>å¯¹äºæ•è·çš„å¼‚å¸¸ï¼Œåº”è¯¥è®°å½•è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¼‚å¸¸ç±»å‹ã€å †æ ˆè·Ÿè¸ªå’Œå¯èƒ½çš„é”™è¯¯ä¸Šä¸‹æ–‡ã€‚è¿™å¯¹äºäº‹ååˆ†æå’Œé—®é¢˜è§£å†³éå¸¸é‡è¦ã€‚</li></ul></li><li><p><strong>ä¸è¿›è¡Œå¼‚å¸¸çš„é€‚å½“è½¬æ¢</strong>ï¼š</p><ul><li>å½“æ•è·ä¸€ä¸ªå¼‚å¸¸å¹¶éœ€è¦æŠ›å‡ºå¦ä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œåº”è¯¥é€‚å½“åœ°è½¬æ¢å¼‚å¸¸ï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ›å‡ºåŸå§‹å¼‚å¸¸ï¼Œè¿™æ ·å¯ä»¥é¿å…æš´éœ²å®ç°ç»†èŠ‚ã€‚</li></ul></li><li><p><strong>ä¸æµ‹è¯•å¼‚å¸¸å¤„ç†ä»£ç </strong>ï¼š</p><ul><li>å¼‚å¸¸å¤„ç†ä»£ç åº”è¯¥è¢«åŒ…å«åœ¨æµ‹è¯•ä¸­ã€‚ç¡®ä¿ä½ çš„å¼‚å¸¸å¤„ç†é€»è¾‘èƒ½å¤Ÿæ­£ç¡®å¤„ç†é¢„æœŸçš„å¼‚å¸¸æƒ…å†µã€‚</li></ul></li><li><p><strong>ä¸ä¸€è‡´çš„å¼‚å¸¸å¤„ç†</strong>ï¼š</p><ul><li>åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œåº”è¯¥ä¿æŒä¸€è‡´çš„å¼‚å¸¸å¤„ç†ç­–ç•¥ã€‚è¿™åŒ…æ‹¬å¼‚å¸¸çš„æ•è·ã€å¤„ç†å’ŒæŠ›å‡ºæ–¹å¼ã€‚</li></ul></li><li><p><strong>ä¸å¤„ç†å¤–éƒ¨åº“çš„å¼‚å¸¸</strong>ï¼š</p><ul><li>å½“ä½¿ç”¨å¤–éƒ¨åº“æˆ–æ¡†æ¶æ—¶ï¼Œåº”è¯¥äº†è§£å®ƒä»¬å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºä¸­é€‚å½“åœ°å¤„ç†è¿™äº›å¼‚å¸¸ã€‚</li></ul></li></ol><p>é€šè¿‡é¿å…è¿™äº›å¸¸è§çš„é”™è¯¯å’Œé™·é˜±ï¼Œä½ å¯ä»¥è®¾è®¡å‡ºä¸€ä¸ªå¥å£®ä¸”æœ‰æ•ˆçš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h2 id=10åœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶æœ‰å“ªäº›æœ€ä½³å®è·µå¯ä»¥éµå¾ª>10.åœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶ï¼Œæœ‰å“ªäº›æœ€ä½³å®è·µå¯ä»¥éµå¾ªï¼Ÿ</h2><p>åœ¨ç¼–å†™å¼‚å¸¸å¤„ç†ä»£ç æ—¶ï¼Œéµå¾ªä»¥ä¸‹æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°ç®¡ç†å¼‚å¸¸ï¼Œç¡®ä¿ä»£ç çš„å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼š</p><ol><li><p><strong>ç²¾ç¡®æ•è·å¼‚å¸¸</strong>ï¼š</p><ul><li>å°½å¯èƒ½æ•è·å…·ä½“çš„å¼‚å¸¸ç±»å‹ï¼Œè€Œä¸æ˜¯é€šç”¨çš„ <code>Exception</code> ç±»ã€‚è¿™æœ‰åŠ©äºé’ˆå¯¹ä¸åŒç±»å‹çš„å¼‚å¸¸é‡‡å–é€‚å½“çš„å¤„ç†æªæ–½ã€‚</li></ul></li><li><p><strong>é¿å…ç©ºçš„ <code>catch</code> å—</strong>ï¼š</p><ul><li>ä¸è¦ä»…ä»…æ•è·å¼‚å¸¸è€Œä¸åšä»»ä½•å¤„ç†ã€‚å¦‚æœæ²¡æœ‰å¿…è¦å¤„ç†ç‰¹å®šçš„å¼‚å¸¸ï¼Œä¸å¦‚ä¸æ•è·å®ƒï¼Œè®©ä¸Šå±‚ä»£ç æˆ–é»˜è®¤çš„å¼‚å¸¸å¤„ç†å™¨æ¥å¤„ç†ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨finallyå—æˆ–try-with-resourcesè¯­å¥</strong>ï¼š</p><ul><li>ç¡®ä¿åœ¨ <code>finally</code> å—ä¸­é‡Šæ”¾èµ„æºï¼Œæˆ–è€…åœ¨Java 7åŠä»¥ä¸Šç‰ˆæœ¬ä¸­ä½¿ç”¨try-with-resourcesè¯­å¥è‡ªåŠ¨ç®¡ç†èµ„æºã€‚</li></ul></li><li><p><strong>ä¸è¦åœ¨finallyå—ä¸­å¿½ç•¥å¼‚å¸¸</strong>ï¼š</p><ul><li>åœ¨ <code>finally</code> å—ä¸­ï¼Œä¸è¦å¿½ç•¥æˆ–åæ²¡å¼‚å¸¸ã€‚å¦‚æœå¿…é¡»åœ¨ <code>finally</code> å—ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œç¡®ä¿å®ƒä¸æ˜¯ç”±æ–¹æ³•è°ƒç”¨äº§ç”Ÿçš„æ–°å¼‚å¸¸ï¼Œå¦åˆ™ä¼šè¦†ç›–åŸå§‹å¼‚å¸¸ã€‚</li></ul></li><li><p><strong>æä¾›æœ‰ç”¨çš„é”™è¯¯ä¿¡æ¯</strong>ï¼š</p><ul><li>å½“æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œæä¾›æ¸…æ™°å’Œè¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯ã€‚å¦‚æœå¯èƒ½ï¼ŒåŒ…æ‹¬é”™è¯¯ä»£ç ã€ç”¨æˆ·æç¤ºä¿¡æ¯å’Œå¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</li></ul></li><li><p><strong>ä¸è¦ä½¿ç”¨å¼‚å¸¸è¿›è¡Œæµç¨‹æ§åˆ¶</strong>ï¼š</p><ul><li>å¼‚å¸¸åº”è¯¥ç”¨äºå¤„ç†éæ­£å¸¸æƒ…å†µï¼Œè€Œä¸æ˜¯æ­£å¸¸çš„ç¨‹åºæµç¨‹æ§åˆ¶ã€‚ä¸è¦ä½¿ç”¨å¼‚å¸¸æ¥ä»£æ›¿if-elseè¯­å¥ã€‚</li></ul></li><li><p><strong>è®°å½•å¼‚å¸¸</strong>ï¼š</p><ul><li>åœ¨æ•è·å¼‚å¸¸æ—¶ï¼Œè®°å½•è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¼‚å¸¸ç±»å‹ã€å †æ ˆè·Ÿè¸ªå’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥ä¾¿äºè°ƒè¯•å’Œç›‘æ§ã€‚</li></ul></li><li><p><strong>æ¢å¤æˆ–å›æ»šçŠ¶æ€</strong>ï¼š</p><ul><li>åœ¨æ•è·å¼‚å¸¸åï¼Œå°½å¯èƒ½æ¢å¤ç³»ç»Ÿåˆ°ä¸€ä¸ªå®‰å…¨å’Œä¸€è‡´çš„çŠ¶æ€ï¼Œæˆ–è€…å›æ»šåˆ°æ“ä½œå‰çš„çŠ¶æ€ã€‚</li></ul></li><li><p><strong>å°è£…å’Œè½¬æ¢å¼‚å¸¸</strong>ï¼š</p><ul><li>å½“æ•è·ä¸€ä¸ªå¼‚å¸¸å¹¶éœ€è¦æŠ›å‡ºå¦ä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œå°è£…åŸå§‹å¼‚å¸¸çš„ä¿¡æ¯ï¼Œæˆ–è€…è½¬æ¢ä¸ºæ›´å…·ä½“çš„å¼‚å¸¸ç±»å‹ã€‚</li></ul></li><li><p><strong>æµ‹è¯•å¼‚å¸¸å¤„ç†ä»£ç </strong>ï¼š</p><ul><li>ç¡®ä¿å¯¹å¼‚å¸¸å¤„ç†ä»£ç è¿›è¡Œå……åˆ†çš„æµ‹è¯•ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œä»¥éªŒè¯å¼‚å¸¸å¤„ç†é€»è¾‘çš„æ­£ç¡®æ€§ã€‚</li></ul></li><li><p><strong>ä¿æŒå¼‚å¸¸å¤„ç†çš„ä¸€è‡´æ€§</strong>ï¼š</p><ul><li>åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œä¿æŒå¼‚å¸¸å¤„ç†ç­–ç•¥çš„ä¸€è‡´æ€§ï¼ŒåŒ…æ‹¬å¼‚å¸¸çš„æ•è·ã€å¤„ç†å’ŒæŠ›å‡ºæ–¹å¼ã€‚</li></ul></li><li><p><strong>å¤„ç†ç¬¬ä¸‰æ–¹åº“çš„å¼‚å¸¸</strong>ï¼š</p><ul><li>äº†è§£å¹¶å¦¥å–„å¤„ç†ç¬¬ä¸‰æ–¹åº“å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ï¼Œç¡®ä¿å®ƒä»¬ä¸ä¼šç ´ååº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§ã€‚</li></ul></li><li><p><strong>é¿å…å¼‚å¸¸é“¾ä¸­çš„å¾ªç¯å¼•ç”¨</strong>ï¼š</p><ul><li>åœ¨å°è£…æˆ–è½¬æ¢å¼‚å¸¸æ—¶ï¼Œé¿å…åˆ›å»ºå¾ªç¯å¼•ç”¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨è‡ªå®šä¹‰å¼‚å¸¸</strong>ï¼š</p><ul><li>ä¸ºç‰¹å®šçš„é”™è¯¯æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œè¿™æ ·å¯ä»¥æä¾›æ›´æ¸…æ™°çš„é”™è¯¯å¤„ç†é€»è¾‘å’Œæ›´å¥½çš„APIè®¾è®¡ã€‚</li></ul></li><li><p><strong>è€ƒè™‘å¼‚å¸¸çš„å¯è§æ€§</strong>ï¼š</p><ul><li>ä»…å‘å¯èƒ½éœ€è¦çŸ¥é“å¼‚å¸¸å‘ç”Ÿçš„ä»£ç å±‚å…¬å¼€å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼Œä¸è¦åœ¨APIçš„å…¬å…±æ–¹æ³•ç­¾åä¸­æŠ›å‡ºå®ç°ç»†èŠ‚çš„å¼‚å¸¸ã€‚</li></ul></li></ol><p>é€šè¿‡éµå¾ªè¿™äº›æœ€ä½³å®è·µï¼Œä½ å¯ä»¥ç¡®ä¿å¼‚å¸¸å¤„ç†ä»£ç æ—¢æœ‰æ•ˆåˆé«˜æ•ˆï¼ŒåŒæ—¶æé«˜åº”ç”¨ç¨‹åºçš„æ•´ä½“è´¨é‡å’Œç”¨æˆ·ä½“éªŒã€‚</p><h2 id=11åœ¨è¿›è¡Œé”™è¯¯å¤„ç†æœºåˆ¶çš„æµ‹è¯•æ—¶æœ‰å“ªäº›å¸¸è§çš„æµ‹è¯•åœºæ™¯å’Œæµ‹è¯•æ–¹æ³•>11.åœ¨è¿›è¡Œé”™è¯¯å¤„ç†æœºåˆ¶çš„æµ‹è¯•æ—¶ï¼Œæœ‰å“ªäº›å¸¸è§çš„æµ‹è¯•åœºæ™¯å’Œæµ‹è¯•æ–¹æ³•ï¼Ÿ</h2><p>åœ¨è¿›è¡Œé”™è¯¯å¤„ç†æœºåˆ¶çš„æµ‹è¯•æ—¶ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æµ‹è¯•åœºæ™¯å’Œæµ‹è¯•æ–¹æ³•ï¼š</p><ol><li><p><strong>æµ‹è¯•ç¯å¢ƒè®¾ç½®</strong>ï¼šæ ¹æ®è½¯ä»¶æµ‹è¯•æŠ€æœ¯è®¾ç½®æµ‹è¯•ç¯å¢ƒï¼Œç¡®ä¿æµ‹è¯•è¿‡ç¨‹èƒ½å¤Ÿé¡ºåˆ©è¿›è¡Œã€‚è¿™åŒ…æ‹¬è®¡åˆ’æµ‹è¯•å¹¶ç¡®ä¿è¢«æµ‹è¯•ç³»ç»ŸåŒ…å«è¾ƒå°‘çš„é‡è¦æ•°æ®ï¼Œå› ä¸ºæµ‹è¯•æœŸé—´å¯èƒ½ä¼šå‡ºç°ç³»ç»Ÿå´©æºƒé—®é¢˜ ã€‚</p></li><li><p><strong>ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹</strong>ï¼šåˆ›å»ºå¯èƒ½å¼•å‘é”™è¯¯çš„ä¸åŒæµ‹è¯•ç”¨ä¾‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè½¯ä»¶æ“ä½œåœ¨åˆ†æ•°ä¸Šï¼Œåˆ™å°†åˆ†æ•°çš„åˆ†æ¯è®¾ç½®ä¸ºé›¶ã€‚æµ‹è¯•ç”¨ä¾‹çš„ç”Ÿæˆä¸å¼€å‘å›¢é˜Ÿæœ‰å…³ï¼Œå› ä¸ºä¸äº†è§£å†…éƒ¨ä»£ç å°±æ— æ³•è®¾è®¡æµ‹è¯•ç”¨ä¾‹ ã€‚</p></li><li><p><strong>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</strong>ï¼šåœ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹åï¼Œå¼€å§‹å®é™…çš„æµ‹è¯•è¿‡ç¨‹ã€‚è¿™åŒ…æ‹¬è¿è¡Œç¨‹åºå¹¶ä½¿ç”¨ç”Ÿæˆçš„æµ‹è¯•ç”¨ä¾‹ã€‚</p></li><li><p><strong>ç»“æœå’Œåˆ†æ</strong>ï¼šæ‰§è¡Œæµ‹è¯•ç”¨ä¾‹åï¼Œåˆ†æå…¶ç»“æœã€‚åŒ…æ‹¬æ£€æŸ¥ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹çš„é¢„æœŸè¾“å‡ºçš„ä¸ä¸€è‡´æ€§ã€‚ç¨‹åºå¯èƒ½ä¼šè¿›å…¥æ— é™å¾ªç¯ï¼Œå¯¼è‡´è½¯ä»¶å¤±è´¥ ã€‚</p></li><li><p><strong>é‡æ–°æµ‹è¯•</strong>ï¼šå¦‚æœæµ‹è¯•å¤±è´¥ï¼Œåˆ™åœ¨åˆ†æåå†æ¬¡æ‰§è¡Œæ‰€æœ‰ä¸Šè¿°æ­¥éª¤æ¥æµ‹è¯•ç³»ç»Ÿã€‚å®ƒè¿˜åŒ…æ‹¬ä½¿ç”¨æœ€è¿‘ç”Ÿæˆçš„æ–°æµ‹è¯•ç”¨ä¾‹è¿›è¡Œç³»ç»Ÿæµ‹è¯• ã€‚</p></li><li><p><strong>æµ‹è¯•å¼‚å¸¸æ•è·</strong>ï¼šç¡®ä¿åœ¨æ¯ä¸ªå¤„ç†å™¨ä¸­ä½¿ç”¨ <code>try-catch</code> å—æ¥æ•è·å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå¹¶æ ¹æ®éœ€è¦å¤„ç†æˆ–å°†å¼‚å¸¸ä¼ é€’ç»™é“¾ä¸­çš„ä¸‹ä¸€ä¸ªå¤„ç†å™¨ã€‚</p></li><li><p><strong>æµ‹è¯•èµ„æºæ¸…ç†</strong>ï¼šåœ¨æ•è·å¼‚å¸¸åï¼Œç¡®ä¿è¿›è¡Œé€‚å½“çš„èµ„æºæ¸…ç†å·¥ä½œï¼Œä»¥é˜²æ­¢èµ„æºæ³„æ¼ã€‚</p></li><li><p><strong>æµ‹è¯•å¼‚å¸¸é“¾</strong>ï¼šåœ¨å°è£…æˆ–è½¬æ¢å¼‚å¸¸æ—¶ï¼Œç¡®ä¿ä¸ä¼šåˆ›å»ºå¾ªç¯å¼•ç”¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p></li><li><p><strong>æµ‹è¯•æ—¥å¿—è®°å½•</strong>ï¼šç¡®ä¿åœ¨æ•è·å¼‚å¸¸æ—¶è®°å½•è¶³å¤Ÿçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¼‚å¸¸ç±»å‹ã€å †æ ˆè·Ÿè¸ªå’Œä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥ä¾¿äºè°ƒè¯•å’Œç›‘æ§ã€‚</p></li><li><p><strong>æµ‹è¯•å®¢æˆ·ç«¯é”™è¯¯å¤„ç†</strong>ï¼šå®¢æˆ·ç«¯ä»£ç åº”è¯¥å‡†å¤‡å¥½å¤„ç†å¯èƒ½ä»è´£ä»»é“¾æŠ›å‡ºçš„å¼‚å¸¸ï¼Œè¿™å¯èƒ½åŒ…æ‹¬ä¸ºç”¨æˆ·æä¾›é”™è¯¯ä¿¡æ¯æˆ–æ‰§è¡Œå…¶ä»–æ¢å¤æ“ä½œã€‚</p></li><li><p><strong>æµ‹è¯•å¼‚å¸¸å¤„ç†çš„é€æ˜æ€§å’Œä¸€è‡´æ€§</strong>ï¼šç¡®ä¿æ‰€æœ‰å¤„ç†å™¨ä½¿ç”¨ç›¸åŒçš„å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼Œä¾‹å¦‚ä½¿ç”¨ç›¸åŒçš„æ—¥å¿—æ ¼å¼ã€å¼‚å¸¸å¤„ç†æµç¨‹å’Œé”™è¯¯ä»£ç ã€‚</p></li><li><p><strong>æµ‹è¯•è‡ªå®šä¹‰å¼‚å¸¸</strong>ï¼šä¸ºç‰¹å®šçš„é”™è¯¯æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰å¼‚å¸¸ç±»ï¼Œè¿™æ ·å¯ä»¥æä¾›æ›´æ¸…æ™°çš„é”™è¯¯å¤„ç†é€»è¾‘å’Œæ›´å¥½çš„APIè®¾è®¡ã€‚</p></li></ol><p>é€šè¿‡è¿™äº›æµ‹è¯•åœºæ™¯å’Œæ–¹æ³•ï¼Œå¯ä»¥ç¡®ä¿é”™è¯¯å¤„ç†æœºåˆ¶åœ¨å„ç§å¼‚å¸¸æƒ…å†µä¸‹éƒ½èƒ½æ­£å¸¸å·¥ä½œï¼Œæé«˜åº”ç”¨ç¨‹åºçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</p><h2 id=12åœ¨æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶æ—¶å¦‚ä½•ç¡®ä¿æµ‹è¯•ç”¨ä¾‹çš„è¦†ç›–é¢è¶³å¤Ÿå…¨é¢>12.åœ¨æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶æ—¶ï¼Œå¦‚ä½•ç¡®ä¿æµ‹è¯•ç”¨ä¾‹çš„è¦†ç›–é¢è¶³å¤Ÿå…¨é¢ï¼Ÿ</h2><p>ç¡®ä¿æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶æ—¶æµ‹è¯•ç”¨ä¾‹çš„è¦†ç›–é¢è¶³å¤Ÿå…¨é¢ï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æœ€ä½³å®è·µï¼š</p><ol><li><p><strong>ç†è§£é”™è¯¯å¤„ç†é€»è¾‘</strong>ï¼š</p><ul><li>åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹ä¹‹å‰ï¼Œå½»åº•ç†è§£åº”ç”¨ç¨‹åºçš„é”™è¯¯å¤„ç†é€»è¾‘ï¼ŒåŒ…æ‹¬å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ã€é”™è¯¯å¤„ç†è·¯å¾„ã€èµ„æºæ¸…ç†é€»è¾‘ç­‰ã€‚</li></ul></li><li><p><strong>è¾¹ç•Œå€¼åˆ†æ</strong>ï¼š</p><ul><li>è®¾è®¡æµ‹è¯•ç”¨ä¾‹ä»¥æ£€æŸ¥è¾¹ç•Œæ¡ä»¶ï¼Œè¿™äº›å¾€å¾€æ˜¯é”™è¯¯å’Œå¼‚å¸¸çš„å¸¸è§æ¥æºã€‚</li></ul></li><li><p><strong>ç­‰ä»·ç±»åˆ’åˆ†</strong>ï¼š</p><ul><li>å°†è¾“å…¥æ•°æ®åˆ’åˆ†ä¸ºæœ‰æ•ˆçš„å’Œæ— æ•ˆçš„ç­‰ä»·ç±»ï¼Œå¹¶ä¸ºæ¯ä¸ªç­‰ä»·ç±»è®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚</li></ul></li><li><p><strong>å¼‚å¸¸åœºæ™¯è¦†ç›–</strong>ï¼š</p><ul><li>è¯†åˆ«æ‰€æœ‰å¯èƒ½çš„å¼‚å¸¸åœºæ™¯ï¼Œå¹¶ä¸ºæ¯ç§åœºæ™¯è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç½‘ç»œæ•…éšœã€æ•°æ®æ ¼å¼é”™è¯¯ã€èµ„æºä¸è¶³ã€æƒé™é—®é¢˜ç­‰ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·</strong>ï¼š</p><ul><li>ä½¿ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·æ¥ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ï¼Œè¿™äº›å·¥å…·å¯ä»¥å¸®åŠ©è¯†åˆ«ä»£ç ä¸­æœªè¢«æµ‹è¯•è¦†ç›–çš„éƒ¨åˆ†ã€‚</li></ul></li><li><p><strong>é›†æˆæµ‹è¯•</strong>ï¼š</p><ul><li>è¿›è¡Œé›†æˆæµ‹è¯•ä»¥ç¡®ä¿ç»„ä»¶é—´çš„é”™è¯¯å¤„ç†é€»è¾‘èƒ½å¤ŸååŒå·¥ä½œã€‚</li></ul></li><li><p><strong>å‹åŠ›æµ‹è¯•å’Œè´Ÿè½½æµ‹è¯•</strong>ï¼š</p><ul><li>é€šè¿‡å‹åŠ›æµ‹è¯•å’Œè´Ÿè½½æµ‹è¯•æ¥æ¨¡æ‹Ÿç³»ç»Ÿåœ¨é«˜è´Ÿè½½ä¸‹çš„é”™è¯¯å¤„ç†èƒ½åŠ›ã€‚</li></ul></li><li><p><strong>è´Ÿæµ‹è¯•</strong>ï¼š</p><ul><li>ç‰¹åˆ«è®¾è®¡æµ‹è¯•ç”¨ä¾‹æ¥éªŒè¯ç³»ç»Ÿå¯¹é”™è¯¯è¾“å…¥çš„å¤„ç†èƒ½åŠ›ï¼Œä¾‹å¦‚éæ³•å‚æ•°ã€å¼‚å¸¸æ•°æ®ç±»å‹ç­‰ã€‚</li></ul></li><li><p><strong>å¼‚å¸¸é“¾æµ‹è¯•</strong>ï¼š</p><ul><li>æµ‹è¯•å¼‚å¸¸é“¾ï¼Œå³ä¸€ä¸ªå¼‚å¸¸å¯¼è‡´å¦ä¸€ä¸ªå¼‚å¸¸çš„æƒ…å†µï¼Œç¡®ä¿ç³»ç»Ÿèƒ½å¤Ÿæ­£ç¡®å¤„ç†å¼‚å¸¸é“¾ã€‚</li></ul></li><li><p><strong>ä»£ç è¦†ç›–å·¥å…·</strong>ï¼š</p><ul><li>ä½¿ç”¨ä»£ç è¦†ç›–å·¥å…·æ¥æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹æ˜¯å¦è¦†ç›–äº†æ‰€æœ‰çš„é”™è¯¯å¤„ç†ä»£ç è·¯å¾„ã€‚</li></ul></li><li><p><strong>æ¨¡æ‹Ÿå’Œæ¡©</strong>ï¼š</p><ul><li>ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡å’Œæ¡©æ¥æ¨¡æ‹Ÿå¤–éƒ¨ä¾èµ–é¡¹ï¼Œå¹¶æµ‹è¯•é”™è¯¯å¤„ç†é€»è¾‘ã€‚</li></ul></li><li><p><strong>æŒç»­é›†æˆ</strong>ï¼š</p><ul><li>åœ¨æŒç»­é›†æˆï¼ˆCIï¼‰æµç¨‹ä¸­åŒ…å«é”™è¯¯å¤„ç†æµ‹è¯•ï¼Œç¡®ä¿æ¯æ¬¡ä»£ç æäº¤éƒ½ç»è¿‡æµ‹è¯•ã€‚</li></ul></li><li><p><strong>æ¢ç´¢æ€§æµ‹è¯•</strong>ï¼š</p><ul><li>ç»“åˆæ¢ç´¢æ€§æµ‹è¯•æ¥å‘ç°æœªè¢«è‡ªåŠ¨åŒ–æµ‹è¯•è¦†ç›–çš„é”™è¯¯å¤„ç†åœºæ™¯ã€‚</li></ul></li><li><p><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼š</p><ul><li>åˆ©ç”¨ç”¨æˆ·åé¦ˆæ¥å‘ç°å®é™…ä½¿ç”¨ä¸­çš„é”™è¯¯å¤„ç†é—®é¢˜ï¼Œå¹¶æ ¹æ®è¿™äº›åé¦ˆè®¾è®¡æµ‹è¯•ç”¨ä¾‹ã€‚</li></ul></li><li><p><strong>å›å½’æµ‹è¯•</strong>ï¼š</p><ul><li>åœ¨æ¯æ¬¡ä¿®æ”¹é”™è¯¯å¤„ç†é€»è¾‘åè¿›è¡Œå›å½’æµ‹è¯•ï¼Œç¡®ä¿ä¿®æ”¹æ²¡æœ‰å¼•å…¥æ–°çš„é—®é¢˜ã€‚</li></ul></li><li><p><strong>æ–‡æ¡£å’Œæ³¨é‡Š</strong>ï¼š</p><ul><li>æ£€æŸ¥é”™è¯¯å¤„ç†ä»£ç çš„æ–‡æ¡£å’Œæ³¨é‡Šï¼Œç¡®ä¿æµ‹è¯•ç”¨ä¾‹è¦†ç›–äº†æ‰€æœ‰æ–‡æ¡£åŒ–çš„é”™è¯¯å¤„ç†é€»è¾‘ã€‚</li></ul></li></ol><p>é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œå¯ä»¥ç¡®ä¿æµ‹è¯•ç”¨ä¾‹è¦†ç›–å„ç§å¯èƒ½çš„é”™è¯¯æƒ…å†µï¼Œä»è€Œæé«˜é”™è¯¯å¤„ç†æœºåˆ¶çš„å¥å£®æ€§å’Œå¯é æ€§ã€‚</p><hr><h2 id=å…³äºä½œè€…>å…³äºä½œè€…</h2><ul><li>å¾®ä¿¡å…¬ä¼—å·:WeSiGJ</li><li>GitHub:<a class=link href=https://github.com/wesigj/cplusplusboys target=_blank rel=noopener>https://github.com/wesigj/cplusplusboys</a></li><li>CSDN:<a class=link href=https://blog.csdn.net/wesigj target=_blank rel=noopener>https://blog.csdn.net/wesigj</a></li><li>å¾®åš:</li><li>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œéµå¾ª CC 4.0 BY-SA ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</li></ul><img src=/./img/wechat.jpg width=60%></section><footer class=article-footer><section class=article-tags><a href=/tags/design_pattern/>Design_pattern</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/design-pattern-command-pattern/><div class=article-details><h2 class=article-title>design pattern Command Pattern</h2></div></a></article><article><a href=/p/design-pattern-composite-pattern/><div class=article-details><h2 class=article-title>design pattern Composite Pattern</h2></div></a></article><article><a href=/p/design-pattern-facade-pattern/><div class=article-details><h2 class=article-title>design pattern Facade Pattern</h2></div></a></article><article><a href=/p/design-pattern-factory-method-pattern/><div class=article-details><h2 class=article-title>design pattern Factory Method Pattern</h2></div></a></article><article><a href=/p/design-pattern-flyweight-pattern/><div class=article-details><h2 class=article-title>design pattern Flyweight Pattern</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Wesigj's blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>